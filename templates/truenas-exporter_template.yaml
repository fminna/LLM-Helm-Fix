---
# Source: truenas-exporter/templates/common.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: release-name-truenas-exporter-config
  namespace: default
  labels:
    app: "truenas-exporter-2.0.4"
    app.kubernetes.io/instance: "release-name"
    app.kubernetes.io/managed-by: "Helm"
    app.kubernetes.io/name: "truenas-exporter"
    app.kubernetes.io/version: "0.15.1"
    helm-revision: "1"
    helm.sh/chart: "truenas-exporter-2.0.4"
    release: "release-name"
data:
  graphite_mapping.conf: |-
    mappings:
    ################################################ # memory mapping ################################################
    - match: "truenas.*.system.ram.*"
      name: "physical_memory"
      labels:
        job: "truenas"
        instance: "${1}"
        kind: "${2}"
  
    - match: "truenas.*.mem.*.*"
      name: "memory_${2}"
      labels:
        job: "truenas"
        instance: "${1}"
        kind: "${3}"
  
    - match: "truenas.*.system.swap.*"
      name: "swap"
      labels:
        job: "truenas"
        instance: "${1}"
        kind: "${2}"
  
    ################################################ # disk smart metrics ################################################
    - match: "truenas.*.smart.log.smart.disktemp.*.*"
      name: "disk_temperature"
      labels:
        job: "truenas"
        instance: "${1}"
        serial: "${2}"
  
    ################################################ # disk operation mappings ################################################
    - match: "truenas.*.disk.*.*"
      name: "disk_io"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
        op: "${3}"
  
    - match: "truenas.*.disk_ops.*.*"
      name: "disk_io_ops"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
        op: "${3}"
  
    - match: "truenas.*.disk_ext.*.*"
      name: "disk_io"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
        op: "${3}"
  
    - match: "truenas.*.disk_ext_ops.*.*"
      name: "disk_io_ops"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
        op: "${3}"
  
    - match: "truenas.*.disk_backlog.*.backlog"
      name: "disk_io_backlog"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
  
    - match: "truenas.*.disk_busy.*.busy"
      name: "disk_busy"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
  
    - match: "truenas.*.disk_util.*.utilization"
      name: "disk_utilization"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
  
    - match: "truenas.*.disk_mops.*.*"
      name: "disk_io"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
        op: "merged_${3}"
  
    - match: "truenas.*.disk_ext_mops.*.*"
      name: "disk_io"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
        op: "merged_${3}"
  
    - match: "truenas.*.disk_iotime.*.*"
      name: "disk_iotime"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
        op: "${3}"
  
    - match: "truenas.*.disk_ext_iotime.*.*"
      name: "disk_iotime"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
        op: "${3}"
  
    - match: "truenas.*.disk_qops.*.operations"
      name: "disk_qops"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
  
    - match: "truenas.*.disk_await.*.*"
      name: "disk_await"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
        op: "${3}"
  
    - match: "truenas.*.disk_ext_await.*.*"
      name: "disk_await"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
        op: "${3}"
  
    - match: "truenas.*.disk_avgsz.*.*"
      name: "disk_io_size"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
        op: "${3}"
  
    - match: "truenas.*.disk_ext_avgsz.*.*"
      name: "disk_io_size"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
        op: "${3}"
  
    - match: "truenas.*.disk_svctm.*.svctm"
      name: "disk_svctm"
      labels:
        job: "truenas"
        instance: "${1}"
        disk: "${2}"
  
    - match: "truenas.*.system.io.*"
      name: "system_io"
      labels:
        job: "truenas"
        instance: "${1}"
        op: "${2}"
  
    ################################################ # CPU mapping ################################################
    - match: "truenas.*.system.intr.interrupts"
      name: "interrupts"
      labels:
        job: "truenas"
        instance: "${1}"
        kind: "hard"
  
    - match: "truenas.*.system.cpu.softirq"
      name: "interrupts"
      labels:
        job: "truenas"
        instance: "${1}"
        kind: "soft"
  
    - match: "truenas.*.cpu.*.softirq"
      name: "cpu_softirq"
      labels:
        job: "truenas"
        instance: "${1}"
        cpu: "${2}"
  
    - match: "truenas.*.system.ctxt.switches"
      name: "context_switches"
      labels:
        job: "truenas"
        instance: "${1}"
  
    - match: "truenas.*.system.cpu.*"
      name: "cpu_total"
      labels:
        job: "truenas"
        instance: "${1}"
        kind: "${2}"
  
    - match: "truenas.*.cputemp.temperatures.*"
      name: "cpu_temperature"
      labels:
        job: "truenas"
        instance: "${1}"
        cpu: "cpu${2}"
  
    - match: "truenas.*.cpu.core_throttling.*"
      name: "cpu_throttling"
      labels:
        job: "truenas"
        instance: "${1}"
        cpu: "${2}"
  
    - match: "truenas.*.cpu.cpufreq.*"
      name: "cpu_frequency"
      labels:
        job: "truenas"
        instance: "${1}"
        cpu: "${2}"
  
    - match: 'truenas\.(.*)\.cpu\.(.*)_cpuidle\.(.*)'
      match_type: "regex"
      name: "cpu_idlestate"
      labels:
        job: "truenas"
        instance: "${1}"
        cpu: "${2}"
        state: "${3}"
  
    - match: 'truenas\.(.*)\.cpu\.(.*)\.(.*)'
      match_type: "regex"
      name: "cpu_usage"
      labels:
        job: "truenas"
        instance: "${1}"
        cpu: "${2}"
        kind: "${3}"
  
    ################################################ # process mapping ################################################
    - match: "truenas.*.system.forks.started"
      name: "processes_forks"
      labels:
        job: "truenas"
        instance: "${1}"
  
    - match: "truenas.*.system.processes.*"
      name: "processes"
      labels:
        job: "truenas"
        instance: "${1}"
        kind: "${2}"
  
    - match: "truenas.*.system.active_processes.*"
      name: "processes"
      labels:
        job: "truenas"
        instance: "${1}"
        kind: "${2}"
  
    ################################################ # uptime mapping ################################################
    - match: "truenas.*.system.uptime.uptime"
      name: "uptime"
      labels:
        job: "truenas"
        instance: "${1}"
  
    - match: "truenas.*.system.clock_sync_state.state"
      name: "clock_synced"
      labels:
        job: "truenas"
        instance: "${1}"
  
    - match: "truenas.*.system.clock_status.*"
      name: "clock_status"
      labels:
        job: "truenas"
        instance: "${1}"
        state: "${2}"
  
    - match: "truenas.*.system.clock_sync_offset.offset"
      name: "clock_offset"
      labels:
        job: "truenas"
        instance: "${1}"
  
    ################################################ # load mapping ################################################
    - match: "truenas.*.system.load.*"
      name: "system_load"
      labels:
        job: "truenas"
        instance: "${1}"
        kind: "${2}"
  
    ################################################ # nsfd mappings ################################################
    - match: "truenas.*.nfsd.*.*"
      name: "nfs_${2}"
      labels:
        job: "truenas"
        instance: "${1}"
        op: "${3}"
  
    ################################################ # zfs mappings ################################################
    - match: "truenas.*.zfs.*.*"
      name: "zfs_${2}"
      labels:
        job: "truenas"
        instance: "${1}"
        op: "${3}"
  
    - match: 'truenas\.(.*)\.zfspool\.state_(.*)\.(.*)'
      match_type: "regex"
      name: "zfs_pool"
      labels:
        job: "truenas"
        instance: "${1}"
        pool: "${2}"
        state: "${3}"
  
    ################################################ # network mappings ################################################
    - match: "truenas.*.net.*.*"
      name: "interface_io"
      labels:
        job: "truenas"
        instance: "${1}"
        interface: "${2}"
        op: "${3}"
  
    - match: "truenas.*.net_speed.*.speed"
      name: "interface_speed"
      labels:
        job: "truenas"
        instance: "${1}"
        interface: "${2}"
  
    - match: "truenas.*.net_duplex.*.*"
      name: "interface_duplex"
      labels:
        job: "truenas"
        instance: "${1}"
        interface: "${2}"
        state: "${3}"
  
    - match: "truenas.*.net_operstate.*.*"
      name: "interface_operationstate"
      labels:
        job: "truenas"
        instance: "${1}"
        interface: "${2}"
        state: "${3}"
  
    - match: "truenas.*.net_carrier.*.*"
      name: "interface_carrierstate"
      labels:
        job: "truenas"
        instance: "${1}"
        interface: "${2}"
        state: "${3}"
  
    - match: "truenas.*.net_mtu.*.mtu"
      name: "interface_mtu"
      labels:
        job: "truenas"
        instance: "${1}"
        interface: "${2}"
  
    - match: "truenas.*.net_packets.*.*"
      name: "interface_packets"
      labels:
        job: "truenas"
        instance: "${1}"
        interface: "${2}"
        op: "${3}"
  
    - match: "truenas.*.net_errors.*.*"
      name: "interface_errors"
      labels:
        job: "truenas"
        instance: "${1}"
        interface: "${2}"
        op: "${3}"
  
    - match: "truenas.*.net_drops.*.*"
      name: "interface_drops"
      labels:
        job: "truenas"
        instance: "${1}"
        interface: "${2}"
        op: "${3}"
  
    - match: "truenas.*.system.net.*"
      name: "system_net_io"
      labels:
        job: "truenas"
        instance: "${1}"
        op: "${2}"
---
# Source: truenas-exporter/templates/common.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: release-name-truenas-exporter-dashboard
  namespace: default
  labels:
    app: "truenas-exporter-2.0.4"
    app.kubernetes.io/instance: "release-name"
    app.kubernetes.io/managed-by: "Helm"
    app.kubernetes.io/name: "truenas-exporter"
    app.kubernetes.io/version: "0.15.1"
    grafana_dashboard: "1"
    helm-revision: "1"
    helm.sh/chart: "truenas-exporter-2.0.4"
    release: "release-name"
data:
  truenasexporter.json: '        {
              "__inputs": [
                  {
                      "name": "DS_MIMIR",
                      "label": "Mimir",
                      "description": "",
                      "type": "datasource",
                      "pluginId": "prometheus",
                      "pluginName": "Prometheus"
                  }
              ],
              "__elements": {},
              "__requires": [
                  {
                      "type": "grafana",
                      "id": "grafana",
                      "name": "Grafana",
                      "version": "10.2.2"
                  },
                  {
                      "type": "panel",
                      "id": "piechart",
                      "name": "Pie chart",
                      "version": ""
                  },
                  {
                      "type": "datasource",
                      "id": "prometheus",
                      "name": "Prometheus",
                      "version": "1.0.0"
                  },
                  {
                      "type": "panel",
                      "id": "stat",
                      "name": "Stat",
                      "version": ""
                  },
                  {
                      "type": "panel",
                      "id": "timeseries",
                      "name": "Time series",
                      "version": ""
                  }
              ],
              "annotations": {
                  "list": [
                      {
                          "builtIn": 1,
                          "datasource": {
                              "type": "grafana",
                              "uid": "-- Grafana --"
                          },
                          "enable": true,
                          "hide": true,
                          "iconColor": "rgba(0, 211, 255, 1)",
                          "name": "Annotations & Alerts",
                          "type": "dashboard"
                      }
                  ]
              },
              "editable": true,
              "fiscalYearStartMonth": 0,
              "graphTooltip": 1,
              "id": null,
              "links": [],
              "liveNow": false,
              "panels": [
                  {
                      "datasource": {
                          "type": "prometheus",
                          "uid": "${DS_MIMIR}"
                      },
                      "fieldConfig": {
                          "defaults": {
                              "color": {
                                  "mode": "palette-classic"
                              },
                              "custom": {
                                  "axisBorderShow": false,
                                  "axisCenteredZero": false,
                                  "axisColorMode": "text",
                                  "axisLabel": "",
                                  "axisPlacement": "auto",
                                  "barAlignment": 0,
                                  "drawStyle": "line",
                                  "fillOpacity": 10,
                                  "gradientMode": "none",
                                  "hideFrom": {
                                      "legend": false,
                                      "tooltip": false,
                                      "viz": false
                                  },
                                  "insertNulls": false,
                                  "lineInterpolation": "linear",
                                  "lineWidth": 1,
                                  "pointSize": 5,
                                  "scaleDistribution": {
                                      "type": "linear"
                                  },
                                  "showPoints": "never",
                                  "spanNulls": false,
                                  "stacking": {
                                      "group": "A",
                                      "mode": "none"
                                  },
                                  "thresholdsStyle": {
                                      "mode": "off"
                                  }
                              },
                              "mappings": [],
                              "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                      {
                                          "color": "green",
                                          "value": null
                                      },
                                      {
                                          "color": "red",
                                          "value": 80
                                      }
                                  ]
                              },
                              "unit": "short"
                          },
                          "overrides": []
                      },
                      "gridPos": {
                          "h": 9,
                          "w": 6,
                          "x": 0,
                          "y": 0
                      },
                      "id": 161,
                      "options": {
                          "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                          },
                          "tooltip": {
                              "mode": "multi",
                              "sort": "desc"
                          }
                      },
                      "targets": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "editorMode": "code",
                              "expr": "system_load{instance=~\"$instance\"}",
                              "instant": false,
                              "legendFormat": "{{kind}}",
                              "range": true,
                              "refId": "A"
                          }
                      ],
                      "title": "System load",
                      "type": "timeseries"
                  },
                  {
                      "datasource": {
                          "type": "prometheus",
                          "uid": "${DS_MIMIR}"
                      },
                      "fieldConfig": {
                          "defaults": {
                              "color": {
                                  "mode": "palette-classic"
                              },
                              "custom": {
                                  "axisBorderShow": false,
                                  "axisCenteredZero": false,
                                  "axisColorMode": "text",
                                  "axisLabel": "",
                                  "axisPlacement": "auto",
                                  "barAlignment": 0,
                                  "drawStyle": "line",
                                  "fillOpacity": 0,
                                  "gradientMode": "none",
                                  "hideFrom": {
                                      "legend": false,
                                      "tooltip": false,
                                      "viz": false
                                  },
                                  "insertNulls": false,
                                  "lineInterpolation": "linear",
                                  "lineWidth": 1,
                                  "pointSize": 5,
                                  "scaleDistribution": {
                                      "type": "linear"
                                  },
                                  "showPoints": "auto",
                                  "spanNulls": false,
                                  "stacking": {
                                      "group": "A",
                                      "mode": "none"
                                  },
                                  "thresholdsStyle": {
                                      "mode": "off"
                                  }
                              },
                              "mappings": [],
                              "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                      {
                                          "color": "green",
                                          "value": null
                                      },
                                      {
                                          "color": "red",
                                          "value": 80
                                      }
                                  ]
                              },
                              "unit": "rotmhz"
                          },
                          "overrides": []
                      },
                      "gridPos": {
                          "h": 9,
                          "w": 6,
                          "x": 6,
                          "y": 0
                      },
                      "id": 159,
                      "options": {
                          "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                          },
                          "tooltip": {
                              "mode": "multi",
                              "sort": "desc"
                          }
                      },
                      "targets": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "editorMode": "code",
                              "expr": "cpu_frequency{instance=~\"$instance\", cpu=~\"$cpu\"}",
                              "instant": false,
                              "legendFormat": "{{cpu}}",
                              "range": true,
                              "refId": "A"
                          }
                      ],
                      "title": "CPU frequency",
                      "type": "timeseries"
                  },
                  {
                      "datasource": {
                          "type": "prometheus",
                          "uid": "${DS_MIMIR}"
                      },
                      "fieldConfig": {
                          "defaults": {
                              "color": {
                                  "mode": "palette-classic"
                              },
                              "custom": {
                                  "axisBorderShow": false,
                                  "axisCenteredZero": false,
                                  "axisColorMode": "text",
                                  "axisLabel": "",
                                  "axisPlacement": "auto",
                                  "barAlignment": 0,
                                  "drawStyle": "line",
                                  "fillOpacity": 0,
                                  "gradientMode": "none",
                                  "hideFrom": {
                                      "legend": false,
                                      "tooltip": false,
                                      "viz": false
                                  },
                                  "insertNulls": false,
                                  "lineInterpolation": "linear",
                                  "lineWidth": 1,
                                  "pointSize": 5,
                                  "scaleDistribution": {
                                      "type": "linear"
                                  },
                                  "showPoints": "auto",
                                  "spanNulls": false,
                                  "stacking": {
                                      "group": "A",
                                      "mode": "none"
                                  },
                                  "thresholdsStyle": {
                                      "mode": "off"
                                  }
                              },
                              "mappings": [],
                              "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                      {
                                          "color": "green",
                                          "value": null
                                      },
                                      {
                                          "color": "red",
                                          "value": 80
                                      }
                                  ]
                              },
                              "unit": "celsius"
                          },
                          "overrides": []
                      },
                      "gridPos": {
                          "h": 9,
                          "w": 6,
                          "x": 12,
                          "y": 0
                      },
                      "id": 160,
                      "options": {
                          "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                          },
                          "tooltip": {
                              "mode": "multi",
                              "sort": "desc"
                          }
                      },
                      "targets": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "editorMode": "code",
                              "expr": "cpu_temperature{instance=~\"$instance\", cpu=~\"$cpu\"}",
                              "instant": false,
                              "legendFormat": "{{cpu}}",
                              "range": true,
                              "refId": "A"
                          }
                      ],
                      "title": "CPU temperature",
                      "type": "timeseries"
                  },
                  {
                      "datasource": {
                          "type": "prometheus",
                          "uid": "${DS_MIMIR}"
                      },
                      "fieldConfig": {
                          "defaults": {
                              "color": {
                                  "mode": "palette-classic"
                              },
                              "custom": {
                                  "hideFrom": {
                                      "legend": false,
                                      "tooltip": false,
                                      "viz": false
                                  }
                              },
                              "mappings": [],
                              "unit": "mbytes"
                          },
                          "overrides": []
                      },
                      "gridPos": {
                          "h": 9,
                          "w": 6,
                          "x": 18,
                          "y": 0
                      },
                      "id": 162,
                      "options": {
                          "displayLabels": [],
                          "legend": {
                              "displayMode": "table",
                              "placement": "right",
                              "showLegend": true,
                              "values": ["value", "percent"]
                          },
                          "pieType": "donut",
                          "reduceOptions": {
                              "calcs": ["lastNotNull"],
                              "fields": "",
                              "values": false
                          },
                          "tooltip": {
                              "mode": "multi",
                              "sort": "desc"
                          }
                      },
                      "targets": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "editorMode": "code",
                              "expr": "physical_memory{instance=~\"$instance\"}",
                              "instant": false,
                              "legendFormat": "{{kind}}",
                              "range": true,
                              "refId": "A"
                          }
                      ],
                      "title": "Memory usage",
                      "type": "piechart"
                  },
                  {
                      "datasource": {
                          "type": "prometheus",
                          "uid": "${DS_MIMIR}"
                      },
                      "fieldConfig": {
                          "defaults": {
                              "color": {
                                  "mode": "palette-classic"
                              },
                              "custom": {
                                  "axisBorderShow": false,
                                  "axisCenteredZero": true,
                                  "axisColorMode": "text",
                                  "axisLabel": "",
                                  "axisPlacement": "auto",
                                  "barAlignment": 0,
                                  "drawStyle": "line",
                                  "fillOpacity": 10,
                                  "gradientMode": "none",
                                  "hideFrom": {
                                      "legend": false,
                                      "tooltip": false,
                                      "viz": false
                                  },
                                  "insertNulls": false,
                                  "lineInterpolation": "linear",
                                  "lineWidth": 1,
                                  "pointSize": 5,
                                  "scaleDistribution": {
                                      "type": "linear"
                                  },
                                  "showPoints": "auto",
                                  "spanNulls": false,
                                  "stacking": {
                                      "group": "A",
                                      "mode": "none"
                                  },
                                  "thresholdsStyle": {
                                      "mode": "off"
                                  }
                              },
                              "fieldMinMax": false,
                              "mappings": [],
                              "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                      {
                                          "color": "green",
                                          "value": null
                                      },
                                      {
                                          "color": "red",
                                          "value": 80
                                      }
                                  ]
                              },
                              "unit": "Kbits"
                          },
                          "overrides": []
                      },
                      "gridPos": {
                          "h": 9,
                          "w": 6,
                          "x": 0,
                          "y": 9
                      },
                      "id": 163,
                      "options": {
                          "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                          },
                          "tooltip": {
                              "mode": "multi",
                              "sort": "desc"
                          }
                      },
                      "targets": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "editorMode": "code",
                              "expr": "interface_io{instance=~\"$instance\", interface=~\"$interface\"}",
                              "instant": false,
                              "legendFormat": "{{interface}} - {{op}}",
                              "range": true,
                              "refId": "A"
                          }
                      ],
                      "title": "Network I/O",
                      "type": "timeseries"
                  },
                  {
                      "datasource": {
                          "type": "prometheus",
                          "uid": "${DS_MIMIR}"
                      },
                      "fieldConfig": {
                          "defaults": {
                              "color": {
                                  "mode": "palette-classic"
                              },
                              "custom": {
                                  "axisBorderShow": false,
                                  "axisCenteredZero": false,
                                  "axisColorMode": "text",
                                  "axisLabel": "",
                                  "axisPlacement": "auto",
                                  "barAlignment": 0,
                                  "drawStyle": "line",
                                  "fillOpacity": 100,
                                  "gradientMode": "none",
                                  "hideFrom": {
                                      "legend": false,
                                      "tooltip": false,
                                      "viz": false
                                  },
                                  "insertNulls": false,
                                  "lineInterpolation": "linear",
                                  "lineWidth": 1,
                                  "pointSize": 5,
                                  "scaleDistribution": {
                                      "log": 2,
                                      "type": "log"
                                  },
                                  "showPoints": "never",
                                  "spanNulls": false,
                                  "stacking": {
                                      "group": "A",
                                      "mode": "none"
                                  },
                                  "thresholdsStyle": {
                                      "mode": "off"
                                  }
                              },
                              "mappings": [],
                              "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                      {
                                          "color": "green",
                                          "value": null
                                      },
                                      {
                                          "color": "red",
                                          "value": 80
                                      }
                                  ]
                              },
                              "unit": "short"
                          },
                          "overrides": []
                      },
                      "gridPos": {
                          "h": 9,
                          "w": 6,
                          "x": 12,
                          "y": 9
                      },
                      "id": 164,
                      "options": {
                          "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                          },
                          "tooltip": {
                              "mode": "multi",
                              "sort": "desc"
                          }
                      },
                      "targets": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "editorMode": "code",
                              "expr": "processes{instance=~\"$instance\"}",
                              "instant": false,
                              "legendFormat": "{{kind}}",
                              "range": true,
                              "refId": "A"
                          }
                      ],
                      "title": "Processes",
                      "type": "timeseries"
                  },
                  {
                      "datasource": {
                          "type": "prometheus",
                          "uid": "${DS_MIMIR}"
                      },
                      "fieldConfig": {
                          "defaults": {
                              "color": {
                                  "fixedColor": "blue",
                                  "mode": "fixed"
                              },
                              "mappings": [],
                              "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                      {
                                          "color": "green",
                                          "value": null
                                      },
                                      {
                                          "color": "red",
                                          "value": 80
                                      }
                                  ]
                              },
                              "unit": "dtdhms"
                          },
                          "overrides": []
                      },
                      "gridPos": {
                          "h": 9,
                          "w": 6,
                          "x": 18,
                          "y": 9
                      },
                      "id": 165,
                      "options": {
                          "colorMode": "value",
                          "graphMode": "none",
                          "justifyMode": "auto",
                          "orientation": "auto",
                          "reduceOptions": {
                              "calcs": ["lastNotNull"],
                              "fields": "",
                              "values": false
                          },
                          "textMode": "auto",
                          "wideLayout": true
                      },
                      "pluginVersion": "10.2.2",
                      "targets": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "editorMode": "code",
                              "expr": "uptime{instance=~\"$instance\"}",
                              "instant": false,
                              "legendFormat": "synced",
                              "range": true,
                              "refId": "A"
                          }
                      ],
                      "title": "Uptime",
                      "type": "stat"
                  },
                  {
                      "collapsed": true,
                      "gridPos": {
                          "h": 1,
                          "w": 24,
                          "x": 0,
                          "y": 18
                      },
                      "id": 79,
                      "panels": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 100,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 0,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "never",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "normal"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "percent"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 10
                              },
                              "id": 78,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "cpu_total{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{kind}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "CPU usage",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "rotmhz"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 6,
                                  "y": 10
                              },
                              "id": 75,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "cpu_frequency{instance=~\"$instance\", cpu=~\"$cpu\"}",
                                      "instant": false,
                                      "legendFormat": "{{cpu}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "CPU frequency",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "celsius"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 12,
                                  "y": 10
                              },
                              "id": 76,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "cpu_temperature{instance=~\"$instance\", cpu=~\"$cpu\"}",
                                      "instant": false,
                                      "legendFormat": "{{cpu}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "CPU temperature",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "percent"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 18,
                                  "y": 10
                              },
                              "id": 77,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "avg by (state) (cpu_idlestate{instance=~\"$instance\", cpu=~\"$cpu\"})",
                                      "instant": false,
                                      "legendFormat": "{{state}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "CPU C-State",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "ops"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 19
                              },
                              "id": 74,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "cpu_throttling{instance=~\"$instance\", cpu=~\"$cpu\"}",
                                      "instant": false,
                                      "legendFormat": "{{cpu}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "CPU throttling",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "ops"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 6,
                                  "y": 19
                              },
                              "id": 73,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "interrupts{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{kind}} - interrupt",
                                      "range": true,
                                      "refId": "A"
                                  },
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "context_switches{instance=~\"$instance\"}",
                                      "hide": false,
                                      "instant": false,
                                      "legendFormat": "context switches",
                                      "range": true,
                                      "refId": "B"
                                  }
                              ],
                              "title": "Interrupts & Context switches",
                              "type": "timeseries"
                          }
                      ],
                      "title": "CPU",
                      "type": "row"
                  },
                  {
                      "collapsed": true,
                      "gridPos": {
                          "h": 1,
                          "w": 24,
                          "x": 0,
                          "y": 19
                      },
                      "id": 6,
                      "panels": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          }
                                      },
                                      "mappings": [],
                                      "unit": "mbytes"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 11
                              },
                              "id": 1,
                              "options": {
                                  "displayLabels": [],
                                  "legend": {
                                      "displayMode": "table",
                                      "placement": "right",
                                      "showLegend": true,
                                      "values": ["value", "percent"]
                                  },
                                  "pieType": "donut",
                                  "reduceOptions": {
                                      "calcs": ["lastNotNull"],
                                      "fields": "",
                                      "values": false
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "physical_memory{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{kind}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Memory usage",
                              "type": "piechart"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          }
                                      },
                                      "mappings": [],
                                      "unit": "mbytes"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 6,
                                  "y": 11
                              },
                              "id": 2,
                              "options": {
                                  "displayLabels": [],
                                  "legend": {
                                      "displayMode": "table",
                                      "placement": "right",
                                      "showLegend": true,
                                      "values": ["value", "percent"]
                                  },
                                  "pieType": "donut",
                                  "reduceOptions": {
                                      "calcs": ["lastNotNull"],
                                      "fields": "",
                                      "values": false
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "swap{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{kind}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Swap usage",
                              "type": "piechart"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "mbytes"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 12,
                                  "y": 11
                              },
                              "id": 4,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "memory_available{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{kind}}",
                                      "range": true,
                                      "refId": "A"
                                  },
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "memory_committed{instance=~\"$instance\"}",
                                      "hide": false,
                                      "instant": false,
                                      "legendFormat": "{{kind}}",
                                      "range": true,
                                      "refId": "B"
                                  },
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "memory_transparent_hugepages{instance=~\"$instance\"}",
                                      "hide": false,
                                      "instant": false,
                                      "legendFormat": "hugepages-{{kind}}",
                                      "range": true,
                                      "refId": "C"
                                  },
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "memory_writeback{instance=~\"$instance\"}",
                                      "hide": false,
                                      "instant": false,
                                      "legendFormat": "writeback-{{kind}}",
                                      "range": true,
                                      "refId": "D"
                                  }
                              ],
                              "title": "Memory detailed",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "mbytes"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 18,
                                  "y": 11
                              },
                              "id": 3,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "memory_kernel{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{kind}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Kernel memory allocation",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "mbytes"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 20
                              },
                              "id": 5,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "memory_slab{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{kind}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Memory slab",
                              "type": "timeseries"
                          }
                      ],
                      "title": "Memory",
                      "type": "row"
                  },
                  {
                      "collapsed": true,
                      "gridPos": {
                          "h": 1,
                          "w": 24,
                          "x": 0,
                          "y": 20
                      },
                      "id": 56,
                      "panels": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": true,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "Kbits"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 21
                              },
                              "id": 46,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "interface_io{instance=~\"$instance\", interface=~\"$interface\"}",
                                      "instant": false,
                                      "legendFormat": "{{interface}} - {{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Network I/O",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "thresholds"
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "Kbits"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 6,
                                  "y": 21
                              },
                              "id": 66,
                              "options": {
                                  "colorMode": "none",
                                  "graphMode": "none",
                                  "justifyMode": "auto",
                                  "orientation": "auto",
                                  "reduceOptions": {
                                      "calcs": ["lastNotNull"],
                                      "fields": "",
                                      "values": false
                                  },
                                  "textMode": "auto",
                                  "wideLayout": true
                              },
                              "pluginVersion": "10.2.2",
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "exemplar": false,
                                      "expr": "interface_speed{instance=~\"$instance\", interface=~\"$interface\"}",
                                      "format": "time_series",
                                      "instant": false,
                                      "legendFormat": "{{interface}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Interface speed",
                              "type": "stat"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "left",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "short"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 3,
                                  "x": 12,
                                  "y": 21
                              },
                              "id": 67,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "table",
                                      "placement": "right",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "single",
                                      "sort": "none"
                                  }
                              },
                              "pluginVersion": "10.2.2",
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "exemplar": false,
                                      "expr": "interface_duplex{instance=~\"$instance\", interface=~\"$interface\"} > 0",
                                      "format": "time_series",
                                      "instant": false,
                                      "legendFormat": "{{interface}} - {{state}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Interface duplex state",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "left",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "short"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 3,
                                  "x": 15,
                                  "y": 21
                              },
                              "id": 68,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "table",
                                      "placement": "right",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "single",
                                      "sort": "none"
                                  }
                              },
                              "pluginVersion": "10.2.2",
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "exemplar": false,
                                      "expr": "interface_operationstate{instance=~\"$instance\", interface=~\"$interface\"} > 0",
                                      "format": "time_series",
                                      "instant": false,
                                      "legendFormat": "{{interface}} - {{state}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Interface operation state",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "left",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "short"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 3,
                                  "x": 18,
                                  "y": 21
                              },
                              "id": 69,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "table",
                                      "placement": "right",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "single",
                                      "sort": "none"
                                  }
                              },
                              "pluginVersion": "10.2.2",
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "exemplar": false,
                                      "expr": "interface_carrierstate{instance=~\"$instance\", interface=~\"$interface\"} > 0",
                                      "format": "time_series",
                                      "instant": false,
                                      "legendFormat": "{{interface}} - {{state}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Interface carrier state",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "left",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "short"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 3,
                                  "x": 21,
                                  "y": 21
                              },
                              "id": 70,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "table",
                                      "placement": "right",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "single",
                                      "sort": "none"
                                  }
                              },
                              "pluginVersion": "10.2.2",
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "exemplar": false,
                                      "expr": "interface_mtu{instance=~\"$instance\", interface=~\"$interface\"} > 0",
                                      "format": "time_series",
                                      "instant": false,
                                      "legendFormat": "{{interface}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Interface MTU",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": true,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "pps"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 30
                              },
                              "id": 71,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "interface_packets{instance=~\"$instance\", interface=~\"$interface\"}",
                                      "instant": false,
                                      "legendFormat": "{{interface}} - {{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Network packets",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "ops"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 6,
                                  "y": 30
                              },
                              "id": 72,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "interface_errors{instance=~\"$instance\", interface=~\"$interface\"}",
                                      "instant": false,
                                      "legendFormat": "error ({{interface}} - {{op}})",
                                      "range": true,
                                      "refId": "A"
                                  },
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "interface_drops{instance=~\"$instance\", interface=~\"$interface\"}",
                                      "hide": false,
                                      "instant": false,
                                      "legendFormat": "drop ({{interface}} - {{op}})",
                                      "range": true,
                                      "refId": "B"
                                  }
                              ],
                              "title": "Network errors & drops",
                              "type": "timeseries"
                          }
                      ],
                      "title": "Network",
                      "type": "row"
                  },
                  {
                      "collapsed": true,
                      "gridPos": {
                          "h": 1,
                          "w": 24,
                          "x": 0,
                          "y": 21
                      },
                      "id": 100,
                      "panels": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 100,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "log": 2,
                                              "type": "log"
                                          },
                                          "showPoints": "never",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "short"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 22
                              },
                              "id": 99,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "processes{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{kind}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Processes",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "ops"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 6,
                                  "y": 22
                              },
                              "id": 89,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "processes_forks{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "forks",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Process forks",
                              "type": "timeseries"
                          }
                      ],
                      "title": "Processes",
                      "type": "row"
                  },
                  {
                      "collapsed": true,
                      "gridPos": {
                          "h": 1,
                          "w": 24,
                          "x": 0,
                          "y": 22
                      },
                      "id": 114,
                      "panels": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "fixedColor": "blue",
                                          "mode": "fixed"
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "dtdhms"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 23
                              },
                              "id": 112,
                              "options": {
                                  "colorMode": "value",
                                  "graphMode": "none",
                                  "justifyMode": "auto",
                                  "orientation": "auto",
                                  "reduceOptions": {
                                      "calcs": ["lastNotNull"],
                                      "fields": "",
                                      "values": false
                                  },
                                  "textMode": "auto",
                                  "wideLayout": true
                              },
                              "pluginVersion": "10.2.2",
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "uptime{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "synced",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Uptime",
                              "type": "stat"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "axisSoftMax": 2,
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "never",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "short"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 6,
                                  "y": 23
                              },
                              "id": 113,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "clock_synced{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "synced",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "NTP synced",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "ms"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 12,
                                  "y": 23
                              },
                              "id": 110,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "clock_offset{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "offset",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "NTP offset",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "axisSoftMax": 1,
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "short"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 18,
                                  "y": 23
                              },
                              "id": 111,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "clock_status{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{state}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "NTP error state",
                              "type": "timeseries"
                          }
                      ],
                      "title": "Uptime + NTP",
                      "type": "row"
                  },
                  {
                      "collapsed": true,
                      "gridPos": {
                          "h": 1,
                          "w": 24,
                          "x": 0,
                          "y": 23
                      },
                      "id": 131,
                      "panels": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": true,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "KBs"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 24
                              },
                              "id": 125,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "nfs_io{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "NFS I/O",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "pps"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 6,
                                  "y": 24
                              },
                              "id": 126,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "nfs_net{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "NFS net I/O",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "short"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 12,
                                  "y": 24
                              },
                              "id": 127,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "nfs_threads{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "threads",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "NFS threads",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "rps"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 18,
                                  "y": 24
                              },
                              "id": 124,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "nfs_readcache{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "NFS readcache",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "ops"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 33
                              },
                              "id": 128,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "nfs_rpc{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "NFS RPC",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "ops"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 6,
                                  "y": 33
                              },
                              "id": 129,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "nfs_proc4{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "NFS proc4",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "ops"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 12,
                                  "y": 33
                              },
                              "id": 130,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "nfs_proc4ops{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "NFS proc4ops",
                              "type": "timeseries"
                          }
                      ],
                      "title": "NFS",
                      "type": "row"
                  },
                  {
                      "collapsed": true,
                      "gridPos": {
                          "h": 1,
                          "w": 24,
                          "x": 0,
                          "y": 24
                      },
                      "id": 149,
                      "panels": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "mbytes"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 25
                              },
                              "id": 141,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "zfs_arc_size{instance=~\"$instance\", op=~\"arcsz|target\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "ARC Size",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "mbytes"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 6,
                                  "y": 25
                              },
                              "id": 142,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "zfs_l2_size{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "L2 Size",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "rps"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 12,
                                  "y": 25
                              },
                              "id": 143,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "zfs_reads{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "ZFS reads",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 100,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "never",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "percent"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "percent"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 18,
                                  "y": 25
                              },
                              "id": 144,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "zfs_hits{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "ZFS cache access",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 100,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "never",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "percent"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "percent"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 34
                              },
                              "id": 146,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "zfs_arc_size_breakdown{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "ARC Size Breakdown",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "short"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 6,
                                  "y": 34
                              },
                              "id": 148,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "zfs_hash_elements{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "hashes - {{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "ZFS hash elements",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "ops"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 12,
                                  "y": 34
                              },
                              "id": 147,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "zfs_important_ops{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "ZFS important operations",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 0,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "eps"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 18,
                                  "y": 34
                              },
                              "id": 145,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "zfs_hits_rate{instance=~\"$instance\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "ZFS cache hit rate",
                              "type": "timeseries"
                          }
                      ],
                      "title": "ZFS",
                      "type": "row"
                  },
                  {
                      "collapsed": true,
                      "gridPos": {
                          "h": 1,
                          "w": 24,
                          "x": 0,
                          "y": 25
                      },
                      "id": 8,
                      "panels": [
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": true,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "KiBs"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 26
                              },
                              "id": 7,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "disk_io{instance=~\"$instance\", disk=~\"$disk\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Disk I/O - $disk",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": true,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "iops"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 6,
                                  "y": 26
                              },
                              "id": 11,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "disk_io_ops{instance=~\"$instance\", disk=~\"$disk\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Disk I/O Ops - $disk",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "ms"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 12,
                                  "y": 26
                              },
                              "id": 15,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "disk_io_backlog{instance=~\"$instance\", disk=~\"$disk\"}",
                                      "instant": false,
                                      "legendFormat": "backlog",
                                      "range": true,
                                      "refId": "A"
                                  },
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "disk_busy{instance=~\"$instance\", disk=~\"$disk\"}",
                                      "hide": false,
                                      "instant": false,
                                      "legendFormat": "busy",
                                      "range": true,
                                      "refId": "B"
                                  }
                              ],
                              "title": "Disk backlog + busy - $disk",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "percent"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 18,
                                  "y": 26
                              },
                              "id": 20,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "disk_utilization{instance=~\"$instance\", disk=~\"$disk\"}",
                                      "instant": false,
                                      "legendFormat": "utilization",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Disk utilization - $disk",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": true,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "ms"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 0,
                                  "y": 35
                              },
                              "id": 26,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "disk_iotime{instance=~\"$instance\", disk=~\"$disk\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Disk I/O time - $disk",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": true,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "ms"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 6,
                                  "y": 35
                              },
                              "id": 35,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "disk_await{instance=~\"$instance\", disk=~\"$disk\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Disk await - $disk",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": true,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "kbytes"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 12,
                                  "y": 35
                              },
                              "id": 36,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "disk_io_size{instance=~\"$instance\", disk=~\"$disk\"}",
                                      "instant": false,
                                      "legendFormat": "{{op}}",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Disk avg I/O size - $disk",
                              "type": "timeseries"
                          },
                          {
                              "datasource": {
                                  "type": "prometheus",
                                  "uid": "${DS_MIMIR}"
                              },
                              "fieldConfig": {
                                  "defaults": {
                                      "color": {
                                          "mode": "palette-classic"
                                      },
                                      "custom": {
                                          "axisBorderShow": false,
                                          "axisCenteredZero": false,
                                          "axisColorMode": "text",
                                          "axisLabel": "",
                                          "axisPlacement": "auto",
                                          "barAlignment": 0,
                                          "drawStyle": "line",
                                          "fillOpacity": 10,
                                          "gradientMode": "none",
                                          "hideFrom": {
                                              "legend": false,
                                              "tooltip": false,
                                              "viz": false
                                          },
                                          "insertNulls": false,
                                          "lineInterpolation": "linear",
                                          "lineWidth": 1,
                                          "pointSize": 5,
                                          "scaleDistribution": {
                                              "type": "linear"
                                          },
                                          "showPoints": "auto",
                                          "spanNulls": false,
                                          "stacking": {
                                              "group": "A",
                                              "mode": "none"
                                          },
                                          "thresholdsStyle": {
                                              "mode": "off"
                                          }
                                      },
                                      "fieldMinMax": false,
                                      "mappings": [],
                                      "thresholds": {
                                          "mode": "absolute",
                                          "steps": [
                                              {
                                                  "color": "green"
                                              },
                                              {
                                                  "color": "red",
                                                  "value": 80
                                              }
                                          ]
                                      },
                                      "unit": "short"
                                  },
                                  "overrides": []
                              },
                              "gridPos": {
                                  "h": 9,
                                  "w": 6,
                                  "x": 18,
                                  "y": 35
                              },
                              "id": 27,
                              "options": {
                                  "legend": {
                                      "calcs": [],
                                      "displayMode": "list",
                                      "placement": "bottom",
                                      "showLegend": true
                                  },
                                  "tooltip": {
                                      "mode": "multi",
                                      "sort": "desc"
                                  }
                              },
                              "targets": [
                                  {
                                      "datasource": {
                                          "type": "prometheus",
                                          "uid": "${DS_MIMIR}"
                                      },
                                      "editorMode": "code",
                                      "expr": "disk_qops{instance=~\"$instance\", disk=~\"$disk\"}",
                                      "instant": false,
                                      "legendFormat": "value",
                                      "range": true,
                                      "refId": "A"
                                  }
                              ],
                              "title": "Disk active operations - $disk",
                              "type": "timeseries"
                          }
                      ],
                      "repeat": "disk",
                      "repeatDirection": "h",
                      "title": "Disk - $disk",
                      "type": "row"
                  }
              ],
              "refresh": "",
              "schemaVersion": 38,
              "tags": [],
              "templating": {
                  "list": [
                      {
                          "current": {
                              "selected": false,
                              "text": "Prometheus",
                              "value": "prometheus"
                          },
                          "hide": 0,
                          "includeAll": false,
                          "label": "Prometheus Datasource",
                          "multi": false,
                          "name": "DS_MIMIR",
                          "options": [],
                          "query": "prometheus",
                          "refresh": 1,
                          "regex": "",
                          "skipUrlSync": false,
                          "type": "datasource"
                      },
                      {
                          "current": {},
                          "datasource": {
                              "type": "prometheus",
                              "uid": "${DS_MIMIR}"
                          },
                          "definition": "label_values(uptime,instance)",
                          "hide": 0,
                          "includeAll": false,
                          "multi": false,
                          "name": "instance",
                          "options": [],
                          "query": {
                              "qryType": 1,
                              "query": "label_values(uptime,instance)",
                              "refId": "PrometheusVariableQueryEditor-VariableQuery"
                          },
                          "refresh": 1,
                          "regex": "",
                          "skipUrlSync": false,
                          "sort": 0,
                          "type": "query"
                      },
                      {
                          "allValue": ".*",
                          "current": {},
                          "datasource": {
                              "type": "prometheus",
                              "uid": "${DS_MIMIR}"
                          },
                          "definition": "label_values(cpu_usage{instance=\"$instance\"},cpu)",
                          "hide": 0,
                          "includeAll": true,
                          "multi": true,
                          "name": "cpu",
                          "options": [],
                          "query": {
                              "qryType": 1,
                              "query": "label_values(cpu_usage{instance=\"$instance\"},cpu)",
                              "refId": "PrometheusVariableQueryEditor-VariableQuery"
                          },
                          "refresh": 1,
                          "regex": "",
                          "skipUrlSync": false,
                          "sort": 0,
                          "type": "query"
                      },
                      {
                          "allValue": ".*",
                          "current": {},
                          "datasource": {
                              "type": "prometheus",
                              "uid": "${DS_MIMIR}"
                          },
                          "definition": "label_values(disk_io{instance=\"$instance\"},disk)",
                          "hide": 0,
                          "includeAll": true,
                          "multi": true,
                          "name": "disk",
                          "options": [],
                          "query": {
                              "qryType": 1,
                              "query": "label_values(disk_io{instance=\"$instance\"},disk)",
                              "refId": "PrometheusVariableQueryEditor-VariableQuery"
                          },
                          "refresh": 1,
                          "regex": "",
                          "skipUrlSync": false,
                          "sort": 0,
                          "type": "query"
                      },
                      {
                          "allValue": ".*",
                          "current": {},
                          "datasource": {
                              "type": "prometheus",
                              "uid": "${DS_MIMIR}"
                          },
                          "definition": "label_values(interface_io{instance=\"$instance\"},interface)",
                          "hide": 0,
                          "includeAll": true,
                          "multi": true,
                          "name": "interface",
                          "options": [],
                          "query": {
                              "qryType": 1,
                              "query": "label_values(interface_io{instance=\"$instance\"},interface)",
                              "refId": "PrometheusVariableQueryEditor-VariableQuery"
                          },
                          "refresh": 1,
                          "regex": "",
                          "skipUrlSync": false,
                          "sort": 0,
                          "type": "query"
                      }
                  ]
              },
              "time": {
                  "from": "now-3h",
                  "to": "now"
              },
              "timepicker": {},
              "timezone": "",
              "title": "TrueNAS Scale",
              "uid": "d4a0827b-de7f-4b46-a43f-328f4bc8372a",
              "version": 25,
              "weekStart": ""
          }
          '
---
# Source: truenas-exporter/templates/common.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-truenas-exporter
  namespace: default
  labels:
    app: "truenas-exporter-2.0.4"
    app.kubernetes.io/instance: "release-name"
    app.kubernetes.io/managed-by: "Helm"
    app.kubernetes.io/name: "truenas-exporter"
    app.kubernetes.io/version: "0.15.1"
    helm-revision: "1"
    helm.sh/chart: "truenas-exporter-2.0.4"
    release: "release-name"
    service.name: "main"
spec:
  type: ClusterIP
  publishNotReadyAddresses: false
  ports:
    - name: main
      port: 9109
      protocol: TCP
      targetPort: 9109 
    - name: main-udp
      port: 9109
      protocol: UDP
      targetPort: 9109
  selector:
    pod.name: main
    app.kubernetes.io/name: truenas-exporter
    app.kubernetes.io/instance: release-name
---
# Source: truenas-exporter/templates/common.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-truenas-exporter-metrics
  namespace: default
  labels:
    app: "truenas-exporter-2.0.4"
    app.kubernetes.io/instance: "release-name"
    app.kubernetes.io/managed-by: "Helm"
    app.kubernetes.io/name: "truenas-exporter"
    app.kubernetes.io/version: "0.15.1"
    helm-revision: "1"
    helm.sh/chart: "truenas-exporter-2.0.4"
    release: "release-name"
    service.name: "metrics"
spec:
  type: ClusterIP
  publishNotReadyAddresses: false
  ports:
    - name: metrics
      port: 9108
      protocol: TCP
      targetPort: 9108
  selector:
    pod.name: main
    app.kubernetes.io/name: truenas-exporter
    app.kubernetes.io/instance: release-name
---
# Source: truenas-exporter/templates/common.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-truenas-exporter
  namespace: default
  labels:
    app: "truenas-exporter-2.0.4"
    app.kubernetes.io/instance: "release-name"
    app.kubernetes.io/managed-by: "Helm"
    app.kubernetes.io/name: "truenas-exporter"
    app.kubernetes.io/version: "0.15.1"
    helm-revision: "1"
    helm.sh/chart: "truenas-exporter-2.0.4"
    release: "release-name"
spec:  
  replicas: 1
  revisionHistoryLimit: 3
  strategy:
    type: Recreate
  selector:
    matchLabels:
      pod.name: main
      app.kubernetes.io/name: truenas-exporter
      app.kubernetes.io/instance: release-name
  template:
    metadata:
      labels:
        app: "truenas-exporter-2.0.4"
        app.kubernetes.io/instance: "release-name"
        app.kubernetes.io/managed-by: "Helm"
        app.kubernetes.io/name: "truenas-exporter"
        app.kubernetes.io/version: "0.15.1"
        helm-revision: "1"
        helm.sh/chart: "truenas-exporter-2.0.4"
        pod.lifecycle: "permanent"
        pod.name: "main"
        release: "release-name"
      annotations:
        checksum/cnpg: "ffd338b55cc50a8b366097eec597eeb134dee46563555614453e28233d208d00"
        checksum/configmaps: "c7b9329c8dc4b4a9e2514bd1f607341ce6f7ab61225eed04e44f659eea0bf9d0"
        checksum/mariadb: "09c85576cb45b1eecd1467732b11ea8fa3363b0105c465f02a6ad64991521d52"
        checksum/mongodb: "09c85576cb45b1eecd1467732b11ea8fa3363b0105c465f02a6ad64991521d52"
        checksum/persistence: "0c58a291e58f3d17f6b63e5cec934e00ce6379b29be3f1c851b62bdd44f34f4d"
        checksum/redis: "013343a028cbb3f7e08f4ba7522702dd98e52632c688641074b0b1db3df29894"
        checksum/secrets: "44136fa355b3678a1146ad16f7e8649e94fb4fc21fe77e8310c060f61caaff8a"
        checksum/services: "0fdf33c1789eafb54c4245eb97f7c879809df531cbe768707ecb3ff9d24bc1ea"
        checksum/solr: "29c14feeaddbf7762052db593898d274941f539cee681ddc613957587686f347"
    spec:
      serviceAccountName: default
      automountServiceAccountToken: false
      runtimeClassName: 
      hostNetwork: false
      hostPID: false
      hostIPC: false
      shareProcessNamespace: false
      enableServiceLinks: false
      restartPolicy: Always
      nodeSelector:
        kubernetes.io/arch: amd64
      topologySpreadConstraints:
        - maxSkew: 1
          whenUnsatisfiable: ScheduleAnyway
          topologyKey: "kubernetes.io/hostname"
          labelSelector:
            matchLabels:      
              pod.name: main
              app.kubernetes.io/name: truenas-exporter
              app.kubernetes.io/instance: release-name
          nodeAffinityPolicy: Honor
          nodeTaintsPolicy: Honor
      dnsPolicy: ClusterFirst
      dnsConfig:
        options:
          - name: ndots
            value: "1"
      terminationGracePeriodSeconds: 60
      securityContext:
        fsGroup: 568
        fsGroupChangePolicy: OnRootMismatch
        supplementalGroups:
          - 568
        sysctls: []
      hostUsers: false
      containers:
        - name: release-name-truenas-exporter
          image: prom/graphite-exporter:v0.15.1@sha256:9b2900c0ffe258eb4f5485270b12a01c385753897f7f3ad6a2cb64101292a879
          imagePullPolicy: IfNotPresent
          tty: false
          stdin: false
          args:
            - "--graphite.mapping-config=/config/graphite_mapping.conf"
          ports:
            - name: main
              containerPort: 9109
              protocol: TCP
              hostPort: null
            - name: main-udp
              containerPort: 9109
              protocol: UDP
              hostPort: null
            - name: metrics
              containerPort: 9108
              protocol: TCP
              hostPort: null
          volumeMounts:
            - name: config
              mountPath: /config/graphite_mapping.conf
              readOnly: true
              subPath: graphite_mapping.conf
            - name: devshm
              mountPath: /dev/shm
              readOnly: false
            - name: shared
              mountPath: /shared
              readOnly: false
            - name: tmp
              mountPath: /tmp
              readOnly: false
            - name: varlogs
              mountPath: /var/logs
              readOnly: false
            - name: varrun
              mountPath: /var/run
              readOnly: false
          livenessProbe:
            tcpSocket:
              port: 9109
            initialDelaySeconds: 12
            failureThreshold: 5
            successThreshold: 1
            timeoutSeconds: 5
            periodSeconds: 15
          readinessProbe:
            tcpSocket:
              port: 9109
            initialDelaySeconds: 10
            failureThreshold: 4
            successThreshold: 2
            timeoutSeconds: 5
            periodSeconds: 12
          startupProbe:
            tcpSocket:
              port: 9109
            initialDelaySeconds: 10
            failureThreshold: 60
            successThreshold: 1
            timeoutSeconds: 3
            periodSeconds: 5
          resources:
            requests:
              cpu: 10m
              memory: 50Mi
            limits: 
              cpu: 4000m 
              memory: 8Gi
          securityContext:
            runAsNonRoot: true
            runAsUser: 568
            runAsGroup: 568
            readOnlyRootFilesystem: true
            allowPrivilegeEscalation: false
            privileged: false
            seccompProfile:
              type: RuntimeDefault
            capabilities:
              add: []
              drop:
                - ALL
          env:
            - name: "TZ"
              value: "UTC"
            - name: "UMASK"
              value: "0022"
            - name: "UMASK_SET"
              value: "0022"
            - name: "NVIDIA_VISIBLE_DEVICES"
              value: "void"
            - name: "S6_READ_ONLY_ROOT"
              value: "1"
      volumes:
        - name: config
          configMap:
            name: release-name-truenas-exporter-config
            optional: false
        - name: devshm
          emptyDir:
            medium: Memory
            sizeLimit: 8Gi
        - name: shared
          emptyDir: {}
        - name: tmp
          emptyDir:
            medium: Memory
            sizeLimit: 8Gi
        - name: varlogs
          emptyDir:
            medium: Memory
            sizeLimit: 8Gi
        - name: varrun
          emptyDir:
            medium: Memory
            sizeLimit: 8Gi
---
# Source: truenas-exporter/templates/common.yaml
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  name: release-name-truenas-exporter
  namespace: default
  labels:
    app: "truenas-exporter-2.0.4"
    app.kubernetes.io/instance: "release-name"
    app.kubernetes.io/managed-by: "Helm"
    app.kubernetes.io/name: "truenas-exporter"
    app.kubernetes.io/version: "0.15.1"
    helm-revision: "1"
    helm.sh/chart: "truenas-exporter-2.0.4"
    release: "release-name"
spec:
  jobLabel: app.kubernetes.io/name
  selector:
    matchLabels:      
      service.name: metrics
      app.kubernetes.io/name: truenas-exporter
      app.kubernetes.io/instance: release-name
  endpoints:
    - port: metrics
