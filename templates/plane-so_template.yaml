---
# Source: plane-so/templates/secret-config.yaml
apiVersion: v1
kind: Secret
metadata:
  name: release-name-plane-so-env
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
type: Opaque
stringData:
  # include all .values.env values
  DEBUG: "0"
  DEFAULT_EMAIL: "captain@plane.so"
  DEFAULT_PASSWORD: "password123"
  DJANGO_SETTINGS_MODULE: "plane.settings.selfhosted"
  EMAIL_FROM: "Team Plane <team@mailer.plane.so>"
  EMAIL_HOST: ""
  EMAIL_HOST_PASSWORD: ""
  EMAIL_HOST_USER: ""
  EMAIL_PORT: "587"
  EMAIL_USE_SSL: "0"
  EMAIL_USE_TLS: "1"
  ENABLE_EMAIL_PASSWORD: "1"
  ENABLE_MAGIC_LINK_LOGIN: "0"
  ENABLE_SIGNUP: "1"
  FILE_SIZE_LIMIT: "5242880"
  GITHUB_CLIENT_SECRET: ""
  GPT_ENGINE: "gpt-3.5-turbo"
  GUNICORN_WORKERS: "2"
  MINIO_ROOT_PASSWORD: "secret-key"
  MINIO_ROOT_USER: "access-key"
  NEXT_PUBLIC_DEPLOY_URL: "http://chart-example.local/spaces"
  NEXT_PUBLIC_ENABLE_OAUTH: "0"
  OPENAI_API_BASE: "https://api.openai.com/v1"
  OPENAI_API_KEY: "sk-"
  PGDATABASE: "plane"
  POSTGRES_DB: "plane"
  POSTGRES_PASSWORD: "plane"
  POSTGRES_USER: "plane"
  REDIS_PORT: "6379"
  SECRET_KEY: "ChangeMeToARandomString"
  SENTRY_DSN: ""
  WEB_URL: "http://chart-example.local"
  DOCKERIZED: "1"
  PGHOST: "release-name-plane-so-postgres"
  PGDATA: "/var/lib/postgresql/data/pgdata"
  DATABASE_URL: "postgresql://plane:plane@release-name-plane-so-postgres/plane"
  REDIS_HOST: "release-name-plane-so-redis"
  REDIS_URL: "redis://release-name-plane-so-redis:6379/"
  USE_MINIO: "1"
  AWS_REGION: ""
  AWS_ACCESS_KEY_ID: "access-key"
  AWS_SECRET_ACCESS_KEY: "secret-key"
  AWS_S3_ENDPOINT_URL: "http://release-name-plane-so-minio:9000"
  AWS_S3_BUCKET_NAME: "uploads"
  BUCKET_NAME: "uploads"
  API_HOST: "release-name-plane-so-api:8000"
  WEB_HOST: "release-name-plane-so-web:3000"
  SPACE_HOST: "release-name-plane-so-space:3000"
  MINIO_HOST: "release-name-plane-so-minio:9000"
---
# Source: plane-so/templates/pvc-minio.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  metadata:
  name: release-name-plane-so-minio
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
spec:
    accessModes: [ReadWriteOnce]
    resources:
        requests:
          storage: 5Gi
    storageClassName:
---
# Source: plane-so/templates/pvc-postgres.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  metadata:
  name: release-name-plane-so-postgres
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
spec:
    accessModes: [ReadWriteOnce]
    resources:
        requests:
          storage: 5Gi
    storageClassName:
---
# Source: plane-so/templates/pvc-redis.yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  metadata:
  name: release-name-plane-so-redis
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
spec:
    accessModes: [ReadWriteOnce]
    resources:
        requests:
          storage: 1Gi
    storageClassName:
---
# Source: plane-so/templates/service-api.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-plane-so-api
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
    plane.so/component: api
spec:
  type: ClusterIP
  ports:
    - port: 8000
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    plane.so/component: api
---
# Source: plane-so/templates/service-beat-worker.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-plane-so-beat-worker
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
    plane.so/component: beat-worker
spec:
  type: ClusterIP
  ports:
    - port: 8000
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    plane.so/component: beat-worker
---
# Source: plane-so/templates/service-minio.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-plane-so-minio
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
    plane.so/component: minio
spec:
  type: ClusterIP
  ports:
    - port: 9000
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    plane.so/component: minio
---
# Source: plane-so/templates/service-minioConsole.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-plane-so-minioconsole
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
    plane.so/component: minio
spec:
  type: ClusterIP
  ports:
    - port: 9090
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    plane.so/component: minio
---
# Source: plane-so/templates/service-postgres.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-plane-so-postgres
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
    plane.so/component: postgres
spec:
  type: ClusterIP
  ports:
    - port: 5432
      targetPort: postgres
      protocol: TCP
      name: postgres
  selector:
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    plane.so/component: postgres
---
# Source: plane-so/templates/service-proxy.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-plane-so-proxy
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
    plane.so/component: proxy
spec:
  type: ClusterIP
  ports:
    - port: 80
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    plane.so/component: proxy
---
# Source: plane-so/templates/service-redis.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-plane-so-redis
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
    plane.so/component: redis
spec:
  type: ClusterIP
  ports:
    - port: 6379
      targetPort: redis
      protocol: TCP
      name: redis
  selector:
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    plane.so/component: redis
---
# Source: plane-so/templates/service-space.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-plane-so-space
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
    plane.so/component: space
spec:
  type: ClusterIP
  ports:
    - port: 3000
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    plane.so/component: space
---
# Source: plane-so/templates/service-web.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-plane-so-web
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
    plane.so/component: web
spec:
  type: ClusterIP
  ports:
    - port: 3000
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    plane.so/component: web
---
# Source: plane-so/templates/service-worker.yaml
apiVersion: v1
kind: Service
metadata:
  name: release-name-plane-so-worker
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
    plane.so/component: worker
spec:
  type: ClusterIP
  ports:
    - port: 8000
      targetPort: http
      protocol: TCP
      name: http
  selector:
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    plane.so/component: worker
---
# Source: plane-so/templates/deployment-api.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-plane-so-api
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: plane-so
      app.kubernetes.io/instance: release-name
      plane.so/component: api
  template:
    metadata:
      labels:
        app.kubernetes.io/name: plane-so
        app.kubernetes.io/instance: release-name
        plane.so/component: api
    spec:
      securityContext:
        {}
      volumes:
        - name: tmp
          emptyDir: {}
      containers:
        - name: plane-so
          volumeMounts:
            - name: tmp
              mountPath: /tmp
          env:
            - name: DEBUG
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEBUG
            - name: DJANGO_SETTINGS_MODULE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DJANGO_SETTINGS_MODULE
            - name: NEXT_PUBLIC_ENABLE_OAUTH
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_ENABLE_OAUTH
            - name: NEXT_PUBLIC_DEPLOY_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_DEPLOY_URL
            - name: SENTRY_DSN
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SENTRY_DSN
            - name: GITHUB_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GITHUB_CLIENT_SECRET
            - name: DOCKERIZED
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DOCKERIZED
            - name: PGHOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGHOST
            - name: PGDATABASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATABASE
            - name: POSTGRES_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_USER
            - name: POSTGRES_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_PASSWORD
            - name: POSTGRES_DB
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_DB
            - name: PGDATA
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATA
            - name: DATABASE_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DATABASE_URL
            - name: REDIS_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_HOST
            - name: REDIS_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_PORT
            - name: REDIS_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_URL
            - name: EMAIL_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST
            - name: EMAIL_HOST_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_USER
            - name: EMAIL_HOST_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_PASSWORD
            - name: EMAIL_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_PORT
            - name: EMAIL_FROM
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_FROM
            - name: EMAIL_USE_TLS
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_TLS
            - name: EMAIL_USE_SSL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_SSL
            - name: DEFAULT_EMAIL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_EMAIL
            - name: DEFAULT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_PASSWORD
            - name: OPENAI_API_BASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: OPENAI_API_BASE
            - name: OPENAI_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: OPENAI_API_KEY
            - name: GPT_ENGINE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GPT_ENGINE
            - name: ENABLE_SIGNUP
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_SIGNUP
            - name: ENABLE_EMAIL_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_EMAIL_PASSWORD
            - name: ENABLE_MAGIC_LINK_LOGIN
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_MAGIC_LINK_LOGIN
            - name: SECRET_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SECRET_KEY
            - name: MINIO_ROOT_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_USER
            - name: MINIO_ROOT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_PASSWORD
            - name: FILE_SIZE_LIMIT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: FILE_SIZE_LIMIT
            - name: GUNICORN_WORKERS
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GUNICORN_WORKERS
            - name: USE_MINIO
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: USE_MINIO
            - name: AWS_REGION
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_REGION
            - name: AWS_ACCESS_KEY_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_ACCESS_KEY_ID
            - name: AWS_SECRET_ACCESS_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_SECRET_ACCESS_KEY
            - name: AWS_S3_ENDPOINT_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_ENDPOINT_URL
            - name: AWS_S3_BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_BUCKET_NAME
            - name: BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: BUCKET_NAME
            - name: WEB_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: WEB_URL
          securityContext:
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: true
            runAsNonRoot: true
            runAsUser: 1000
          image: "makeplane/plane-backend:latest"
          imagePullPolicy: IfNotPresent
          command:
            - ./bin/takeoff
          ports:
            - name: http
              containerPort: 8000
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /
              port: http
            initialDelaySeconds: 120
            failureThreshold: 10
            timeoutSeconds: 5
            periodSeconds: 10
            successThreshold: 1
          readinessProbe:
            httpGet:
              path: /
              port: http
            initialDelaySeconds: 30
            timeoutSeconds: 5
            periodSeconds: 10
            successThreshold: 1
            failureThreshold: 5
          resources:
            null
---
# Source: plane-so/templates/deployment-beat-worker.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-plane-so-beat-worker
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: plane-so
      app.kubernetes.io/instance: release-name
      plane.so/component: beat-worker
  template:
    metadata:
      labels:
        app.kubernetes.io/name: plane-so
        app.kubernetes.io/instance: release-name
        plane.so/component: beat-worker
    spec:
      securityContext:
        {}
      containers:
        - name: plane-so
          env:
            - name: DEBUG
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEBUG
            - name: DJANGO_SETTINGS_MODULE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DJANGO_SETTINGS_MODULE
            - name: NEXT_PUBLIC_ENABLE_OAUTH
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_ENABLE_OAUTH
            - name: NEXT_PUBLIC_DEPLOY_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_DEPLOY_URL
            - name: SENTRY_DSN
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SENTRY_DSN
            - name: GITHUB_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GITHUB_CLIENT_SECRET
            - name: DOCKERIZED
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DOCKERIZED
            - name: PGHOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGHOST
            - name: PGDATABASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATABASE
            - name: POSTGRES_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_USER
            - name: POSTGRES_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_PASSWORD
            - name: POSTGRES_DB
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_DB
            - name: PGDATA
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATA
            - name: DATABASE_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DATABASE_URL
            - name: REDIS_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_HOST
            - name: REDIS_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_PORT
            - name: REDIS_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_URL
            - name: EMAIL_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST
            - name: EMAIL_HOST_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_USER
            - name: EMAIL_HOST_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_PASSWORD
            - name: EMAIL_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_PORT
            - name: EMAIL_FROM
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_FROM
            - name: EMAIL_USE_TLS
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_TLS
            - name: EMAIL_USE_SSL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_SSL
            - name: DEFAULT_EMAIL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_EMAIL
            - name: DEFAULT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_PASSWORD
            - name: OPENAI_API_BASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: OPENAI_API_BASE
            - name: OPENAI_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: OPENAI_API_KEY
            - name: GPT_ENGINE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GPT_ENGINE
            - name: ENABLE_SIGNUP
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_SIGNUP
            - name: ENABLE_EMAIL_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_EMAIL_PASSWORD
            - name: ENABLE_MAGIC_LINK_LOGIN
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_MAGIC_LINK_LOGIN
            - name: SECRET_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SECRET_KEY
            - name: MINIO_ROOT_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_USER
            - name: MINIO_ROOT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_PASSWORD
            - name: FILE_SIZE_LIMIT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: FILE_SIZE_LIMIT
            - name: GUNICORN_WORKERS
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GUNICORN_WORKERS
            - name: USE_MINIO
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: USE_MINIO
            - name: AWS_REGION
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_REGION
            - name: AWS_ACCESS_KEY_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_ACCESS_KEY_ID
            - name: AWS_SECRET_ACCESS_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_SECRET_ACCESS_KEY
            - name: AWS_S3_ENDPOINT_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_ENDPOINT_URL
            - name: AWS_S3_BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_BUCKET_NAME
            - name: BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: BUCKET_NAME
            - name: WEB_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: WEB_URL
          securityContext:
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: true
            runAsNonRoot: true
            runAsUser: 1000
          image: "makeplane/plane-backend:latest"
          imagePullPolicy: IfNotPresent
          command:
            - ./bin/beat
          ports:
            - name: http
              containerPort: 8000
              protocol: TCP
          resources:
            null
---
# Source: plane-so/templates/deployment-proxy.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-plane-so-proxy
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: plane-so
      app.kubernetes.io/instance: release-name
      plane.so/component: proxy
  template:
    metadata:
      labels:
        app.kubernetes.io/name: plane-so
        app.kubernetes.io/instance: release-name
        plane.so/component: proxy
    spec:
      containers:
        - name: plane-so
          env:
            - name: DEBUG
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEBUG
            - name: DJANGO_SETTINGS_MODULE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DJANGO_SETTINGS_MODULE
            - name: NEXT_PUBLIC_ENABLE_OAUTH
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_ENABLE_OAUTH
            - name: NEXT_PUBLIC_DEPLOY_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_DEPLOY_URL
            - name: SENTRY_DSN
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SENTRY_DSN
            - name: GITHUB_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GITHUB_CLIENT_SECRET
            - name: DOCKERIZED
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DOCKERIZED
            - name: PGHOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGHOST
            - name: PGDATABASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATABASE
            - name: POSTGRES_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_USER
            - name: POSTGRES_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_PASSWORD
            - name: POSTGRES_DB
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_DB
            - name: PGDATA
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATA
            - name: DATABASE_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DATABASE_URL
            - name: REDIS_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_HOST
            - name: REDIS_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_PORT
            - name: REDIS_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_URL
            - name: EMAIL_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST
            - name: EMAIL_HOST_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_USER
            - name: EMAIL_HOST_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_PASSWORD
            - name: EMAIL_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_PORT
            - name: EMAIL_FROM
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_FROM
            - name: EMAIL_USE_TLS
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_TLS
            - name: EMAIL_USE_SSL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_SSL
            - name: DEFAULT_EMAIL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_EMAIL
            - name: DEFAULT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_PASSWORD
            - name: OPENAI_API_BASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: OPENAI_API_BASE
            - name: OPENAI_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: OPENAI_API_KEY
            - name: GPT_ENGINE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GPT_ENGINE
            - name: ENABLE_SIGNUP
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_SIGNUP
            - name: ENABLE_EMAIL_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_EMAIL_PASSWORD
            - name: ENABLE_MAGIC_LINK_LOGIN
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_MAGIC_LINK_LOGIN
            - name: SECRET_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SECRET_KEY
            - name: MINIO_ROOT_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_USER
            - name: MINIO_ROOT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_PASSWORD
            - name: FILE_SIZE_LIMIT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: FILE_SIZE_LIMIT
            - name: GUNICORN_WORKERS
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GUNICORN_WORKERS
            - name: USE_MINIO
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: USE_MINIO
            - name: AWS_REGION
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_REGION
            - name: AWS_ACCESS_KEY_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_ACCESS_KEY_ID
            - name: AWS_SECRET_ACCESS_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_SECRET_ACCESS_KEY
            - name: AWS_S3_ENDPOINT_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_ENDPOINT_URL
            - name: AWS_S3_BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_BUCKET_NAME
            - name: BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: BUCKET_NAME
            - name: API_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: API_HOST
            - name: WEB_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: WEB_HOST
            - name: SPACE_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SPACE_HOST
            - name: MINIO_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_HOST
            - name: WEB_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: WEB_URL
          image: "makeplane/plane-proxy:latest"
          imagePullPolicy: IfNotPresent
          ports:
            - name: http
              containerPort: 80
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /
              port: http
          readinessProbe:
            httpGet:
              path: /
              port: http
          resources:
            null
---
# Source: plane-so/templates/deployment-space.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-plane-so-space
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: plane-so
      app.kubernetes.io/instance: release-name
      plane.so/component: space
  template:
    metadata:
      labels:
        app.kubernetes.io/name: plane-so
        app.kubernetes.io/instance: release-name
        plane.so/component: space
    spec:
      securityContext:
        {}
      containers:
        - name: plane-so
          env:
            - name: DEBUG
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEBUG
            - name: DJANGO_SETTINGS_MODULE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DJANGO_SETTINGS_MODULE
            - name: NEXT_PUBLIC_ENABLE_OAUTH
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_ENABLE_OAUTH
            - name: NEXT_PUBLIC_DEPLOY_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_DEPLOY_URL
            - name: SENTRY_DSN
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SENTRY_DSN
            - name: GITHUB_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GITHUB_CLIENT_SECRET
            - name: DOCKERIZED
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DOCKERIZED
            - name: PGHOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGHOST
            - name: PGDATABASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATABASE
            - name: POSTGRES_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_USER
            - name: POSTGRES_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_PASSWORD
            - name: POSTGRES_DB
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_DB
            - name: PGDATA
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATA
            - name: DATABASE_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DATABASE_URL
            - name: REDIS_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_HOST
            - name: REDIS_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_PORT
            - name: REDIS_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_URL
            - name: EMAIL_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST
            - name: EMAIL_HOST_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_USER
            - name: EMAIL_HOST_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_PASSWORD
            - name: EMAIL_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_PORT
            - name: EMAIL_FROM
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_FROM
            - name: EMAIL_USE_TLS
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_TLS
            - name: EMAIL_USE_SSL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_SSL
            - name: DEFAULT_EMAIL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_EMAIL
            - name: DEFAULT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_PASSWORD
            - name: OPENAI_API_BASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: OPENAI_API_BASE
            - name: OPENAI_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: OPENAI_API_KEY
            - name: GPT_ENGINE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GPT_ENGINE
            - name: ENABLE_SIGNUP
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_SIGNUP
            - name: ENABLE_EMAIL_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_EMAIL_PASSWORD
            - name: ENABLE_MAGIC_LINK_LOGIN
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_MAGIC_LINK_LOGIN
            - name: SECRET_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SECRET_KEY
            - name: MINIO_ROOT_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_USER
            - name: MINIO_ROOT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_PASSWORD
            - name: FILE_SIZE_LIMIT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: FILE_SIZE_LIMIT
            - name: GUNICORN_WORKERS
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GUNICORN_WORKERS
            - name: USE_MINIO
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: USE_MINIO
            - name: AWS_REGION
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_REGION
            - name: AWS_ACCESS_KEY_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_ACCESS_KEY_ID
            - name: AWS_SECRET_ACCESS_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_SECRET_ACCESS_KEY
            - name: AWS_S3_ENDPOINT_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_ENDPOINT_URL
            - name: AWS_S3_BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_BUCKET_NAME
            - name: BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: BUCKET_NAME
            - name: WEB_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: WEB_URL
          securityContext:
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: true
            runAsNonRoot: true
            runAsUser: 1000
          image: "makeplane/plane-space:latest"
          imagePullPolicy: IfNotPresent
          command:
            - /usr/local/bin/start.sh
            - space/server.js
            - space
          ports:
            - name: http
              containerPort: 3000
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /spaces/
              port: http
          readinessProbe:
            httpGet:
              path: /spaces/
              port: http
          resources:
            null
---
# Source: plane-so/templates/deployment-web.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-plane-so-web
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: plane-so
      app.kubernetes.io/instance: release-name
      plane.so/component: web
  template:
    metadata:
      labels:
        app.kubernetes.io/name: plane-so
        app.kubernetes.io/instance: release-name
        plane.so/component: web
    spec:
      securityContext:
        {}
      containers:
        - name: plane-so
          env:
            - name: DEBUG
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEBUG
            - name: DJANGO_SETTINGS_MODULE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DJANGO_SETTINGS_MODULE
            - name: NEXT_PUBLIC_ENABLE_OAUTH
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_ENABLE_OAUTH
            - name: NEXT_PUBLIC_DEPLOY_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_DEPLOY_URL
            - name: SENTRY_DSN
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SENTRY_DSN
            - name: GITHUB_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GITHUB_CLIENT_SECRET
            - name: DOCKERIZED
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DOCKERIZED
            - name: PGHOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGHOST
            - name: PGDATABASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATABASE
            - name: POSTGRES_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_USER
            - name: POSTGRES_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_PASSWORD
            - name: POSTGRES_DB
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_DB
            - name: PGDATA
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATA
            - name: DATABASE_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DATABASE_URL
            - name: REDIS_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_HOST
            - name: REDIS_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_PORT
            - name: REDIS_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_URL
            - name: EMAIL_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST
            - name: EMAIL_HOST_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_USER
            - name: EMAIL_HOST_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_PASSWORD
            - name: EMAIL_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_PORT
            - name: EMAIL_FROM
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_FROM
            - name: EMAIL_USE_TLS
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_TLS
            - name: EMAIL_USE_SSL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_SSL
            - name: DEFAULT_EMAIL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_EMAIL
            - name: DEFAULT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_PASSWORD
            - name: OPENAI_API_BASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: OPENAI_API_BASE
            - name: OPENAI_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: OPENAI_API_KEY
            - name: GPT_ENGINE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GPT_ENGINE
            - name: ENABLE_SIGNUP
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_SIGNUP
            - name: ENABLE_EMAIL_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_EMAIL_PASSWORD
            - name: ENABLE_MAGIC_LINK_LOGIN
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_MAGIC_LINK_LOGIN
            - name: SECRET_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SECRET_KEY
            - name: MINIO_ROOT_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_USER
            - name: MINIO_ROOT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_PASSWORD
            - name: FILE_SIZE_LIMIT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: FILE_SIZE_LIMIT
            - name: GUNICORN_WORKERS
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GUNICORN_WORKERS
            - name: USE_MINIO
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: USE_MINIO
            - name: AWS_REGION
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_REGION
            - name: AWS_ACCESS_KEY_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_ACCESS_KEY_ID
            - name: AWS_SECRET_ACCESS_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_SECRET_ACCESS_KEY
            - name: AWS_S3_ENDPOINT_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_ENDPOINT_URL
            - name: AWS_S3_BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_BUCKET_NAME
            - name: BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: BUCKET_NAME
            - name: WEB_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: WEB_URL
          securityContext:
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: true
            runAsNonRoot: true
            runAsUser: 1000
          image: "makeplane/plane-frontend:latest"
          imagePullPolicy: IfNotPresent
          command:
            - /usr/local/bin/start.sh
            - web/server.js
            - web
          ports:
            - name: http
              containerPort: 3000
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /
              port: http
          readinessProbe:
            httpGet:
              path: /
              port: http
          resources:
            null
---
# Source: plane-so/templates/deployment-worker.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: release-name-plane-so-worker
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: plane-so
      app.kubernetes.io/instance: release-name
      plane.so/component: worker
  template:
    metadata:
      labels:
        app.kubernetes.io/name: plane-so
        app.kubernetes.io/instance: release-name
        plane.so/component: worker
    spec:
      securityContext:
        {}
      volumes:
        - name: tmp
          emptyDir: {}
      containers:
        - name: plane-so
          volumeMounts:
            - name: tmp
              mountPath: /tmp
          env:
            - name: DEBUG
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEBUG
            - name: DJANGO_SETTINGS_MODULE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DJANGO_SETTINGS_MODULE
            - name: NEXT_PUBLIC_ENABLE_OAUTH
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_ENABLE_OAUTH
            - name: NEXT_PUBLIC_DEPLOY_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_DEPLOY_URL
            - name: SENTRY_DSN
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SENTRY_DSN
            - name: GITHUB_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GITHUB_CLIENT_SECRET
            - name: DOCKERIZED
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DOCKERIZED
            - name: PGHOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGHOST
            - name: PGDATABASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATABASE
            - name: POSTGRES_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_USER
            - name: POSTGRES_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_PASSWORD
            - name: POSTGRES_DB
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_DB
            - name: PGDATA
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATA
            - name: DATABASE_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DATABASE_URL
            - name: REDIS_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_HOST
            - name: REDIS_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_PORT
            - name: REDIS_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_URL
            - name: EMAIL_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST
            - name: EMAIL_HOST_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_USER
            - name: EMAIL_HOST_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_PASSWORD
            - name: EMAIL_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_PORT
            - name: EMAIL_FROM
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_FROM
            - name: EMAIL_USE_TLS
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_TLS
            - name: EMAIL_USE_SSL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_SSL
            - name: DEFAULT_EMAIL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_EMAIL
            - name: DEFAULT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_PASSWORD
            - name: OPENAI_API_BASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: OPENAI_API_BASE
            - name: OPENAI_API_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: OPENAI_API_KEY
            - name: GPT_ENGINE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GPT_ENGINE
            - name: ENABLE_SIGNUP
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_SIGNUP
            - name: ENABLE_EMAIL_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_EMAIL_PASSWORD
            - name: ENABLE_MAGIC_LINK_LOGIN
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: ENABLE_MAGIC_LINK_LOGIN
            - name: SECRET_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SECRET_KEY
            - name: MINIO_ROOT_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_USER
            - name: MINIO_ROOT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_PASSWORD
            - name: FILE_SIZE_LIMIT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: FILE_SIZE_LIMIT
            - name: GUNICORN_WORKERS
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GUNICORN_WORKERS
            - name: USE_MINIO
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: USE_MINIO
            - name: AWS_REGION
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_REGION
            - name: AWS_ACCESS_KEY_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_ACCESS_KEY_ID
            - name: AWS_SECRET_ACCESS_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_SECRET_ACCESS_KEY
            - name: AWS_S3_ENDPOINT_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_ENDPOINT_URL
            - name: AWS_S3_BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_BUCKET_NAME
            - name: BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: BUCKET_NAME
            - name: WEB_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: WEB_URL
          securityContext:
            capabilities:
              drop:
              - ALL
            readOnlyRootFilesystem: true
            runAsNonRoot: true
            runAsUser: 1000
          image: "makeplane/plane-backend:latest"
          imagePullPolicy: IfNotPresent
          command:
            - ./bin/worker
          ports:
            - name: http
              containerPort: 8000
              protocol: TCP
          resources:
            null
---
# Source: plane-so/templates/statefulset-minio.yaml
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: release-name-plane-so-minio
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: plane-so
      app.kubernetes.io/instance: release-name
      plane.so/component: minio
  template:
    metadata:
      labels:
        app.kubernetes.io/name: plane-so
        app.kubernetes.io/instance: release-name
        plane.so/component: minio
    spec:
      securityContext:
        {}
      volumes:
        - name: data
          persistentVolumeClaim:
            claimName: release-name-plane-so-minio
      containers:
        - name: plane-so
          env:
            - name: MINIO_ROOT_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_USER
            - name: MINIO_ROOT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: MINIO_ROOT_PASSWORD
          image: "minio/minio:latest"
          imagePullPolicy: IfNotPresent
          args:
            - server
            - /export
            - --console-address
            - ":9090"
          volumeMounts:
            - name: data
              mountPath: /export
          ports:
            - name: http
              containerPort: 9000
              protocol: TCP
            - name: console
              containerPort: 9090
              protocol: TCP
          livenessProbe:
            httpGet:
              path: /minio/health/live
              port: http
              scheme: HTTP
          readinessProbe:
            httpGet:
              path: /minio/health/ready
              port: http
              scheme: HTTP
          resources:
            null
---
# Source: plane-so/templates/statefulset-postgres.yaml
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: release-name-plane-so-postgres
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: plane-so
      app.kubernetes.io/instance: release-name
      plane.so/component: postgres
  template:
    metadata:
      labels:
        app.kubernetes.io/name: plane-so
        app.kubernetes.io/instance: release-name
        plane.so/component: postgres
    spec:
      securityContext:
        {}
      volumes:
        - name: postgres-data
          persistentVolumeClaim:
            claimName: release-name-plane-so-postgres
      initContainers:
      - name: init
        image: alpine
        command: ["sh", "-c", "chown -R 999:999 /var/lib/postgresql/data && rm -Rf /var/lib/postgresql/data/lost+found"]
        volumeMounts:
          - mountPath: /var/lib/postgresql/data
            name: postgres-data
      containers:
        - name: plane-so
          env:
            - name: POSTGRES_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_USER
            - name: POSTGRES_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_PASSWORD
            - name: POSTGRES_DB
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_DB
            - name: PGDATA
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATA
          securityContext:
            runAsUser: 999
            fsGroup: 999
            runAsNonRoot: true
            runAsGroup: 999
          image: "postgres:15.2-alpine"
          imagePullPolicy: IfNotPresent
          volumeMounts:
            - name: postgres-data
              mountPath: /var/lib/postgresql/data
          args:
            - -c
            - 'max_connections=1000'
          ports:
            - name: postgres
              containerPort: 5432
              protocol: TCP
          livenessProbe:
            exec:
              command:
                - sh
                - -c
                - "pg_isready -U $POSTGRES_USER -h 127.0.0.1 -p 5432"
            initialDelaySeconds: 30
            timeoutSeconds: 5
            periodSeconds: 10
            successThreshold: 1
            failureThreshold: 6
          readinessProbe:
            exec:
              command:
                - sh
                - -c
                - "pg_isready -U $POSTGRES_USER -h 127.0.0.1 -p 5432"
            initialDelaySeconds: 5
            timeoutSeconds: 5
            periodSeconds: 10
            successThreshold: 1
            failureThreshold: 6
          resources:
            null
---
# Source: plane-so/templates/statefulset-redis.yaml
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: release-name-plane-so-redis
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
spec:
  replicas: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: plane-so
      app.kubernetes.io/instance: release-name
      plane.so/component: redis
  template:
    metadata:
      labels:
        app.kubernetes.io/name: plane-so
        app.kubernetes.io/instance: release-name
        plane.so/component: redis
    spec:
      securityContext:
        {}
      volumes:
        - name: data
          persistentVolumeClaim:
            claimName: release-name-plane-so-redis
      containers:
        - name: plane-so
          image: "redis:6.2.7-alpine"
          imagePullPolicy: IfNotPresent
          volumeMounts:
            - name: data
              mountPath: /data
          ports:
            - name: redis
              containerPort: 6379
              protocol: TCP
          livenessProbe:
            exec:
              command:
              - sh
              - -c
              - redis-cli
              - ping
          readinessProbe:
            exec:
              command:
              - sh
              - -c
              - redis-cli
              - ping
          resources:
            null
---
# Source: plane-so/templates/job-createbucket.yaml
apiVersion: batch/v1
kind: Job
metadata:
  name: release-name-plane-so-createbucket
spec:
  template:
    spec:
      containers:
        - name: createbucket
          env:
            - name: DEBUG
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEBUG
            - name: DJANGO_SETTINGS_MODULE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DJANGO_SETTINGS_MODULE
            - name: NEXT_PUBLIC_ENABLE_OAUTH
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_ENABLE_OAUTH
            - name: NEXT_PUBLIC_DEPLOY_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: NEXT_PUBLIC_DEPLOY_URL
            - name: SENTRY_DSN
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: SENTRY_DSN
            - name: GITHUB_CLIENT_SECRET
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: GITHUB_CLIENT_SECRET
            - name: DOCKERIZED
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DOCKERIZED
            - name: PGHOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGHOST
            - name: PGDATABASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATABASE
            - name: POSTGRES_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_USER
            - name: POSTGRES_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_PASSWORD
            - name: POSTGRES_DB
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: POSTGRES_DB
            - name: PGDATA
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: PGDATA
            - name: DATABASE_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DATABASE_URL
            - name: REDIS_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_HOST
            - name: REDIS_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_PORT
            - name: REDIS_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: REDIS_URL
            - name: EMAIL_HOST
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST
            - name: EMAIL_HOST_USER
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_USER
            - name: EMAIL_HOST_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_HOST_PASSWORD
            - name: EMAIL_PORT
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_PORT
            - name: EMAIL_FROM
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_FROM
            - name: EMAIL_USE_TLS
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_TLS
            - name: EMAIL_USE_SSL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: EMAIL_USE_SSL
            - name: DEFAULT_EMAIL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_EMAIL
            - name: DEFAULT_PASSWORD
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: DEFAULT_PASSWORD
            - name: OPENAI_API_BASE
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: OPENAI_API_BASE
            - name: USE_MINIO
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: USE_MINIO
            - name: AWS_REGION
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_REGION
            - name: AWS_ACCESS_KEY_ID
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_ACCESS_KEY_ID
            - name: AWS_SECRET_ACCESS_KEY
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_SECRET_ACCESS_KEY
            - name: AWS_S3_ENDPOINT_URL
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_ENDPOINT_URL
            - name: AWS_S3_BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: AWS_S3_BUCKET_NAME
            - name: BUCKET_NAME
              valueFrom:
                secretKeyRef:
                  name: release-name-plane-so-env
                  key: BUCKET_NAME
          image: minio/mc
          imagePullPolicy: Always
          command:
            - /bin/sh
          args: ["-c", "/usr/bin/mc config host add plane-minio http://release-name-plane-so-minio:9000 $AWS_ACCESS_KEY_ID $AWS_SECRET_ACCESS_KEY && /usr/bin/mc mb plane-minio/$AWS_S3_BUCKET_NAME && /usr/bin/mc anonymous set download plane-minio/$AWS_S3_BUCKET_NAME;"]
      restartPolicy: OnFailure
  backoffLimit: 40
  ttlSecondsAfterFinished: 600
---
# Source: plane-so/templates/tests/test-connection.yaml
apiVersion: v1
kind: Pod
metadata:
  name: "release-name-plane-so-test-connection"
  labels:
    helm.sh/chart: plane-so-1.0.0
    app.kubernetes.io/name: plane-so
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "latest"
    app.kubernetes.io/managed-by: Helm
  annotations:
    "helm.sh/hook": test
spec:
  containers:
    - name: wget
      image: busybox
      command: ['wget']
      args: ['release-name-plane-so:']
  restartPolicy: Never
