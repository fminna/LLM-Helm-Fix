---
# Source: crossplane-aws-factory/templates/aws-config.yaml
# Copyright (C) Nicolas Lamirault <nicolas.lamirault@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
---
# Source: crossplane-aws-factory/templates/aws-controller-config.yaml
# Copyright (C) Nicolas Lamirault <nicolas.lamirault@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
---
# Source: crossplane-aws-factory/templates/aws-provider.yaml
# Copyright (C) Nicolas Lamirault <nicolas.lamirault@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
---
# Source: crossplane-aws-factory/templates/ecr.yaml
# Copyright (C) Nicolas Lamirault <nicolas.lamirault@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
---
# Source: crossplane-aws-factory/templates/eks.yaml
# Copyright (C) Nicolas Lamirault <nicolas.lamirault@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
---
# Source: crossplane-aws-factory/templates/iam-eks.yaml
# Copyright (C) Nicolas Lamirault <nicolas.lamirault@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
---
# Source: crossplane-aws-factory/templates/internet-gateway.yaml
# Copyright (C) Nicolas Lamirault <nicolas.lamirault@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
---
# Source: crossplane-aws-factory/templates/nat-gateway.yaml
# Copyright (C) Nicolas Lamirault <nicolas.lamirault@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
---
# Source: crossplane-aws-factory/templates/sg.yaml
# Copyright (C) Nicolas Lamirault <nicolas.lamirault@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
---
# Source: crossplane-aws-factory/templates/sns.yaml
# Copyright (C) Nicolas Lamirault <nicolas.lamirault@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
---
# Source: crossplane-aws-factory/templates/sqs.yaml
# Copyright (C) Nicolas Lamirault <nicolas.lamirault@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
---
# Source: crossplane-aws-factory/templates/subnets.yaml
# Copyright (C) Nicolas Lamirault <nicolas.lamirault@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
---
# Source: crossplane-aws-factory/templates/vpc.yaml
# Copyright (C) Nicolas Lamirault <nicolas.lamirault@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0
---
# Source: crossplane-aws-factory/templates/nat-gateway.yaml
apiVersion: ec2.aws.crossplane.io/v1beta1
kind: Address
metadata:
  name: crossplane-aws-factory-nat-gw
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ec2
spec:
  forProvider:
    region: eu-west-1
    domain: "vpc"
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory-nat-gw
      - key: Service
        value: nat-gateway
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-address-nat-gw
    namespace: default
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/eks.yaml
apiVersion: eks.aws.crossplane.io/v1beta1
kind: Cluster
metadata:
  name: crossplane-aws-factory
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: eks
spec:
  forProvider:
    region: eu-west-1
    roleArnRef:
      name: crossplane-aws-factory-eks-cluster
    resourcesVpcConfig:
      endpointPrivateAccess: true
      endpointPublicAccess: true
      publicAccessCidrs :
        - "0.0.0.0/0"
      subnetIdRefs:
        - name: crossplane-aws-factory-a
        - name: crossplane-aws-factory-b
        - name: crossplane-aws-factory-c
      securityGroupIdRefs:
        - name: crossplane-aws-factory-eks
    logging:
      clusterLogging:
      - enabled: false
        types:
        - api
        - audit
        - authenticator
        - controllerManager
        - scheduler
    tags:
      Controller: krm
      Made-by: crossplane
      Name: crossplane-aws-factory
      Role: Cluster
      Service: kubernetes
    version: "1.21"
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-eks
    namespace: crossplane-system
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/aws-controller-config.yaml
apiVersion: pkg.crossplane.io/v1alpha1
kind: ControllerConfig
metadata:
  name: crossplane-aws-factory
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: config
spec:
  podSecurityContext:
    fsGroup: 2000
  # https://github.com/crossplane/crossplane/blob/master/docs/reference/troubleshoot.md
  args:
    - --debug
  # replicas: 0
---
# Source: crossplane-aws-factory/templates/iam-eks.yaml
apiVersion: identity.aws.crossplane.io/v1beta1
kind: IAMRole
metadata:
  name: crossplane-aws-factory-cluster
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: iam
spec:
  forProvider:
    description: "IAM ROLE EKS for release-name-crossplane-aws-factory cluster"
    assumeRolePolicyDocument: |
      {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Effect": "Allow",
                "Principal": {
                    "Service": [
                        "ec2.amazonaws.com",
                        "eks.amazonaws.com",
                        "eks-fargate-pods.amazonaws.com",
                        "lambda.amazonaws.com"
                    ]
                },
                "Action": [
                    "sts:AssumeRole"
                ]
            }
        ]
      }
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory-cluster
      - key: Service
        value: kubernetes
  deletionPolicy: Delete
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-iam-role-cluster
    namespace: crossplane-system
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/iam-eks.yaml
apiVersion: identity.aws.crossplane.io/v1beta1
kind: IAMRole
metadata:
  name: crossplane-aws-factory-eks-node
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: iam
spec:
  forProvider:
    description: "IAM ROLE NodeGroup for release-name-crossplane-aws-factory cluster"
    assumeRolePolicyDocument: |
      {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Effect": "Allow",
                "Principal": {
                    "Service": [
                        "ec2.amazonaws.com"
                    ]
                },
                "Action": [
                    "sts:AssumeRole"
                ]
            }
        ]
      }
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory-eks-node
      - key: Service
        value: kubernetes
  deletionPolicy: Delete
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-iam-role-eks-node
    namespace: crossplane-system
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/iam-eks.yaml
apiVersion: identity.aws.crossplane.io/v1beta1
kind: IAMRolePolicyAttachment
metadata:
  name: crossplane-aws-factory-controlplane
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: iam
spec:
  forProvider:
    policyArn: arn:aws:iam::aws:policy/AmazonEKSClusterPolicy
    roleNameRef:
      name: crossplane-aws-factory-eks-cluster
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-iam-role-eks-cluster
    namespace: crossplane-system
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/iam-eks.yaml
apiVersion: identity.aws.crossplane.io/v1beta1
kind: IAMRolePolicyAttachment
metadata:
  name: crossplane-aws-factory-service
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: iam
spec:
  forProvider:
    policyArn: arn:aws:iam::aws:policy/AmazonEKSServicePolicy
    roleNameRef:
      name: crossplane-aws-factory-eks-cluster
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-iam-role-service
    namespace: crossplane-system
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/iam-eks.yaml
apiVersion: identity.aws.crossplane.io/v1beta1
kind: IAMRolePolicyAttachment
metadata:
  name: crossplane-aws-factory-worker
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: iam
spec:
  forProvider:
    policyArn: arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy
    roleNameRef:
      name: crossplane-aws-factory-node
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-iam-role-worker
    namespace: crossplane-system
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/iam-eks.yaml
apiVersion: identity.aws.crossplane.io/v1beta1
kind: IAMRolePolicyAttachment
metadata:
  name: crossplane-aws-factory-cni
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: iam
spec:
  forProvider:
    policyArn: arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy
    roleNameRef:
      name: crossplane-aws-factory-node
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-iam-role-cni
    namespace: crossplane-system
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/iam-eks.yaml
apiVersion: identity.aws.crossplane.io/v1beta1
kind: IAMRolePolicyAttachment
metadata:
  name: crossplane-aws-factory-registry
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: iam
spec:
  forProvider:
    policyArn: arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly
    roleNameRef:
      name: crossplane-aws-factory-node
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-iam-role-registry
    namespace: crossplane-system
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/internet-gateway.yaml
apiVersion: ec2.aws.crossplane.io/v1beta1
kind: InternetGateway
metadata:
  name: crossplane-aws-factory
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ec2
spec:
  forProvider:
    region: eu-west-1
    vpcIdRef:
      name: crossplane-aws-factory
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory
      - key: Service
        value: internet-gateway
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-igw
    namespace: default
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/ecr.yaml
apiVersion: ecr.aws.crossplane.io/v1alpha1
kind: LifecyclePolicy
metadata:
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ecr
  name: crossplane-aws-factory-charts
spec:
  forProvider:
    region: eu-west-1
    repositoryNameRef:
      name: crossplane-aws-factory-charts
    lifecyclePolicyText: '{"rules":[{"rulePriority":1,"description":"Expire images older than 14 days","selection":{"tagStatus":"untagged","countType":"sinceImagePushed","countUnit":"days","countNumber":14},"action":{"type":"expire"}}]}'
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/ecr.yaml
apiVersion: ecr.aws.crossplane.io/v1alpha1
kind: LifecyclePolicy
metadata:
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ecr
  name: crossplane-aws-factory-containers
spec:
  forProvider:
    region: eu-west-1
    repositoryNameRef:
      name: crossplane-aws-factory-containers
    lifecyclePolicyText: '{"rules":[{"rulePriority":1,"description":"Expire images older than 14 days","selection":{"tagStatus":"untagged","countType":"sinceImagePushed","countUnit":"days","countNumber":14},"action":{"type":"expire"}}]}'
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/nat-gateway.yaml
apiVersion: ec2.aws.crossplane.io/v1beta1
kind: NATGateway
metadata:
  name: crossplane-aws-factory
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ec2
spec:
  forProvider:
    region: eu-west-1
    allocationIdRef:
      name: crossplane-aws-factory-nat-gw
    subnetIdRef:
      name: crossplane-aws-factory-b
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory
      - key: Service
        value: nat-gateway
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-nat-gw
    namespace: default
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/eks.yaml
apiVersion: eks.aws.crossplane.io/v1alpha1
kind: NodeGroup
metadata:
  name: crossplane-aws-factory-core
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: eks
spec:
  forProvider:
    region: eu-west-1
    clusterNameRef:
      name: crossplane-aws-factory
    subnetRefs:
      - name: crossplane-aws-factory-1
    nodeRoleRef:
      name: crossplane-aws-factory-node
    diskSize: 20
    instanceTypes:
    - t3a.large
    labels:
      - "kubernetes"
      - "node"
      - "core" 
    tags:
      Controller: krm
      Made-by: crossplane
      Name: crossplane-aws-factory
      k8s.io/cluster-autoscaler/crossplane-aws-factory: owned
      k8s.io/cluster-autoscaler/enabled: "TRUE"
      Role: Node
      Service: kubernetes
    scalingConfig:
      desiredSize: 1
      maxSize: 1
      minSize: 1
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-nodegroup-core
    namespace: crossplane-system
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/eks.yaml
apiVersion: eks.aws.crossplane.io/v1alpha1
kind: NodeGroup
metadata:
  name: crossplane-aws-factory-ops
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: eks
spec:
  forProvider:
    region: eu-west-1
    clusterNameRef:
      name: crossplane-aws-factory
    subnetRefs:
      - name: crossplane-aws-factory-1
    nodeRoleRef:
      name: crossplane-aws-factory-node
    diskSize: 20
    instanceTypes:
    - t3a.large
    labels:
      - "kubernetes"
      - "node"
      - "ops" 
    tags:
      Controller: krm
      Made-by: crossplane
      Name: crossplane-aws-factory
      k8s.io/cluster-autoscaler/crossplane-aws-factory: owned
      k8s.io/cluster-autoscaler/enabled: "TRUE"
      Role: Node
      Service: kubernetes
    scalingConfig:
      desiredSize: 0
      maxSize: 1
      minSize: 1
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-nodegroup-ops
    namespace: crossplane-system
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/aws-provider.yaml
apiVersion: pkg.crossplane.io/v1
kind: Provider
metadata:
  name: crossplane-aws-factory
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: provider
spec:
  package: crossplane/provider-aws:v0.31.0
  controllerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/aws-config.yaml
apiVersion: aws.crossplane.io/v1beta1
kind: ProviderConfig
metadata:
  name: crossplane-aws-factory
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: config
spec:
  credentials:
    source: Secret
    secretRef:
      namespace: crossplane-system
      name: crossplane-aws-factory-credentials
      key: credentials
---
# Source: crossplane-aws-factory/templates/sqs.yaml
apiVersion: sqs.aws.crossplane.io/v1beta1
kind: Queue
metadata:
  name: crossplane-aws-factory-poc
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: sqs
spec:
  forProvider:
    region: eu-west-1
    delaySeconds: 4
    redrivePolicy:
      deadLetterTargetArnRef:
        name: crossplane-aws-factory-poc-dead
      maxReceiveCount: 1
  tags:
    Name: crossplane-aws-factory-poc
    Controller: krm
    Made-by: crossplane
    Service: SQS
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/sqs.yaml
apiVersion: sqs.aws.crossplane.io/v1beta1
kind: Queue
metadata:
  name: crossplane-aws-factory-poc-dead
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
spec:
  forProvider:
    region: eu-west-1
    delaySeconds: 4
    tags:
      Controller: krm
      Made-by: crossplane
      Name: crossplane-aws-factory-poc
      Service: SQS
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/ecr.yaml
apiVersion: ecr.aws.crossplane.io/v1beta1
kind: Repository
metadata:
  name: crossplane-aws-factory-charts
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ecr
spec:
  forProvider:
    region: eu-west-1
    imageScanningConfiguration:
      scanOnPush: true
    imageTagMutability: IMMUTABLE
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory-charts
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/ecr.yaml
apiVersion: ecr.aws.crossplane.io/v1beta1
kind: Repository
metadata:
  name: crossplane-aws-factory-containers
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ecr
spec:
  forProvider:
    region: eu-west-1
    imageScanningConfiguration:
      scanOnPush: true
    imageTagMutability: IMMUTABLE
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory-containers
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/ecr.yaml
apiVersion: ecr.aws.crossplane.io/v1beta1
kind: RepositoryPolicy
metadata:
  name: crossplane-aws-factory-charts
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ecr
    region: eu-west-1
spec:
  forProvider:
    region: eu-west-1
    repositoryName: crossplane-aws-factory-charts
    rawPolicy:  |
      {
        "Statement": [
          {
            "Action":"ecr:DescribeImages",
            "Effect":"Allow",
            "Principal":"*",
          }
        ],
        "Version":"2012-10-17"
      }
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/ecr.yaml
apiVersion: ecr.aws.crossplane.io/v1beta1
kind: RepositoryPolicy
metadata:
  name: crossplane-aws-factory-containers
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ecr
    region: eu-west-1
spec:
  forProvider:
    region: eu-west-1
    repositoryName: crossplane-aws-factory-containers
    rawPolicy:  |
      {
        "Statement": [
          {
            "Action":"ecr:DescribeImages",
            "Effect":"Allow",
            "Principal":"*",
          }
        ],
        "Version":"2012-10-17"
      }
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/internet-gateway.yaml
apiVersion: ec2.aws.crossplane.io/v1beta1
kind: RouteTable
metadata:
  name: crossplane-aws-factory
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ec2
spec:
  forProvider:
    region: eu-west-1
    routes:
      - destinationCidrBlock: 0.0.0.0/0
        gatewayIdRef:
          name: crossplane-aws-factory
    associations:
      - subnetIdRef:
          name: crossplane-aws-factory-a
    vpcIdRef:
      name: crossplane-aws-factory
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory
      - key: Service
        value: route-table
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-route-table
    namespace: default
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/sg.yaml
apiVersion: ec2.aws.crossplane.io/v1beta1
kind: SecurityGroup
metadata:
  name: crossplane-aws-factory-ssh
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ec2
spec:
  forProvider:
    region: eu-west-1
    vpcIdRef:
      name: crossplane-aws-factory
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory-ssh
    groupName: crossplane-aws-factory-ssh
    description: SSH Connexions
    ingress:
      - fromPort: 22
        toPort: 22
        ipProtocol: tcp
        ipRanges:
          - cidrIp: 0.0.0.0/0
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-sg-ssh
    namespace: crossplane-system
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/sg.yaml
apiVersion: ec2.aws.crossplane.io/v1beta1
kind: SecurityGroup
metadata:
  name: crossplane-aws-factory-eks
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ec2
spec:
  forProvider:
    region: eu-west-1
    vpcIdRef:
      name: crossplane-aws-factory
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory-eks
    groupName: crossplane-aws-factory-eks
    description: Cluster communication with worker nodes
    ingress:
      - fromPort: 80
        toPort: 80
        ipProtocol: tcp
        ipRanges:
          - cidrIp: 10.0.0.0/8
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-sg-eks
    namespace: crossplane-system
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/subnets.yaml
apiVersion: ec2.aws.crossplane.io/v1beta1
kind: Subnet
metadata:
  name: crossplane-aws-factory-a
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ec2
spec:
  forProvider:
    region: eu-west-1
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory-a
      - key: kubernetes.io/cluster/crossplane-aws-factory
        value: shared
      - key: Service
        value: kubernetes
    availabilityZone: eu-west-1a
    cidrBlock: 10.1.1.0/24
    vpcIdRef:
      name: crossplane-aws-factory
    mapPublicIPOnLaunch: true
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-a
    namespace: default
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/subnets.yaml
apiVersion: ec2.aws.crossplane.io/v1beta1
kind: Subnet
metadata:
  name: crossplane-aws-factory-b
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ec2
spec:
  forProvider:
    region: eu-west-1
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory-b
      - key: kubernetes.io/cluster/crossplane-aws-factory
        value: shared
      - key: Service
        value: kubernetes
    availabilityZone: eu-west-1b
    cidrBlock: 10.1.2.0/24
    vpcIdRef:
      name: crossplane-aws-factory
    mapPublicIPOnLaunch: true
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-b
    namespace: default
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/subnets.yaml
apiVersion: ec2.aws.crossplane.io/v1beta1
kind: Subnet
metadata:
  name: crossplane-aws-factory-c
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ec2
spec:
  forProvider:
    region: eu-west-1
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory-c
      - key: kubernetes.io/cluster/crossplane-aws-factory
        value: shared
      - key: Service
        value: kubernetes
    availabilityZone: eu-west-1c
    cidrBlock: 10.0.2.0/24
    vpcIdRef:
      name: crossplane-aws-factory
    mapPublicIPOnLaunch: true
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-c
    namespace: default
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/sns.yaml
apiVersion: sns.aws.crossplane.io/v1beta1
kind: Subscription
metadata:
  name: crossplane-aws-factory-poc
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: sns
spec:
  forProvider:
    region: eu-west-1
    protocol: email
    endpoint: john.doe@gmail.com
    topicArnRef:
      name: crossplane-aws-factory-poc
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/sns.yaml
apiVersion: sns.aws.crossplane.io/v1beta1
kind: Topic
metadata:
  name: crossplane-aws-factory-poc
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: sns
spec:
  forProvider:
    region: eu-west-1
    name: crossplane-aws-factory-poc
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory-poc
    displayName: crossplane-aws-factory-poc
  providerConfigRef:
    name: crossplane-aws-factory
---
# Source: crossplane-aws-factory/templates/vpc.yaml
apiVersion: ec2.aws.crossplane.io/v1beta1
kind: VPC
metadata:
  name: crossplane-aws-factory
  namespace: default
  labels:
    helm.sh/chart: crossplane-aws-factory-0.6.0
    app.kubernetes.io/name: crossplane-aws-factory
    app.kubernetes.io/instance: release-name
    app.kubernetes.io/version: "1.0.0"
    app.kubernetes.io/part-of: crossplane-aws-factory
    app.kubernetes.io/managed-by: Helm
    crossplane.io/version: v1.9.1
    crossplane.io/provider: aws-v0.31.0
    app.kubernetes.io/component: ec2
spec:
  forProvider:
    region: eu-west-1
    tags:
      - key: Controller
        value: krm
      - key: Made-by
        value: crossplane
      - key: Name
        value: crossplane-aws-factory
      - key: Service
        value: vpc
    cidrBlock: 10.1.0.0/16
    enableDnsSupport: true
    enableDnsHostNames: true
    instanceTenancy: default
  writeConnectionSecretToRef:
    name: crossplane-aws-factory-vpc
    namespace: crossplane-system
  providerConfigRef:
    name: crossplane-aws-factory
